/**
 * Bootstrap
 */

!function(b){b(function(){var f=b.support,h;a:{h=document.createElement("bootstrap");var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in a)if(void 0!==h.style[c]){h=a[c];break a}h=void 0}f.transition=h&&{end:h}})}(window.jQuery);
!function(b){var f=function(a,c){this.options=c;this.$element=b(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",b.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,c=b.Event("show");this.$element.trigger(c);this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=b.support.transition&&
    a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body);a.$element.show();c&&a.$element[0].offsetWidth;a.$element.addClass("in").attr("aria-hidden",!1);a.enforceFocus();c?a.$element.one(b.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")}))},hide:function(a){a&&a.preventDefault();a=b.Event("hide");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),b(document).off("focusin.modal"),
    this.$element.removeClass("in").attr("aria-hidden",!0),b.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;b(document).on("focusin.modal",function(c){a.$element[0]!==c.target&&!a.$element.has(c.target).length&&a.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(c){27==c.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},
    hideWithTransition:function(){var a=this,c=setTimeout(function(){a.$element.off(b.support.transition.end);a.hideModal()},500);this.$element.one(b.support.transition.end,function(){clearTimeout(c);a.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
        this.options.backdrop){var d=b.support.transition&&c;this.$backdrop=b('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?b.proxy(this.$element[0].focus,this.$element[0]):b.proxy(this.hide,this));d&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");a&&(d?this.$backdrop.one(b.support.transition.end,a):a())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?
        this.$backdrop.one(b.support.transition.end,a):a()):a&&a()}};var h=b.fn.modal;b.fn.modal=function(a){return this.each(function(){var c=b(this),d=c.data("modal"),e=b.extend({},b.fn.modal.defaults,c.data(),"object"==typeof a&&a);d||c.data("modal",d=new f(this,e));"string"==typeof a?d[a]():e.show&&d.show()})};b.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};b.fn.modal.Constructor=f;b.fn.modal.noConflict=function(){return b.fn.modal=h,this};b(document).on("click.modal.data-api",'[data-toggle="modal"]',
    function(a){var c=b(this),d=c.attr("href"),e=b(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=e.data("modal")?"toggle":b.extend({remote:!/#/.test(d)&&d},e.data(),c.data());a.preventDefault();e.modal(d).one("hide",function(){c.focus()})})}(window.jQuery);
!function(b){var f=function(a){this.element=b(a)};f.prototype={constructor:f,show:function(){var a=this.element,c=a.closest("ul:not(.dropdown-menu)"),d=a.attr("data-target"),e,g;d||(d=a.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));a.parent("li").hasClass("active")||(e=c.find(".active:last a")[0],g=b.Event("show",{relatedTarget:e}),a.trigger(g),g.isDefaultPrevented()||(d=b(d),this.activate(a.parent("li"),c),this.activate(d,d.parent(),function(){a.trigger({type:"shown",relatedTarget:e})})))},activate:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      c,d){function e(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");a.addClass("active");f?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active");d&&d()}var g=c.find("> .active"),f=d&&b.support.transition&&g.hasClass("fade");f?g.one(b.support.transition.end,e):e();g.removeClass("in")}};var h=b.fn.tab;b.fn.tab=function(a){return this.each(function(){var c=b(this),d=c.data("tab");d||c.data("tab",
    d=new f(this));"string"==typeof a&&d[a]()})};b.fn.tab.Constructor=f;b.fn.tab.noConflict=function(){return b.fn.tab=h,this};b(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault();b(this).tab("show")})}(window.jQuery);
!function(b){var f=function(a,c){this.init("tooltip",a,c)};f.prototype={constructor:f,init:function(a,c,d){var e,g;this.type=a;this.$element=b(c);this.options=this.getOptions(d);this.enabled=!0;a=this.options.trigger.split(" ");for(d=a.length;d--;)c=a[d],"click"==c?this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this)):"manual"!=c&&(e="hover"==c?"mouseenter":"focus",g="hover"==c?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,b.proxy(this.enter,
    this)),this.$element.on(g+"."+this.type,this.options.selector,b.proxy(this.leave,this)));this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){return a=b.extend({},b.fn[this.type].defaults,this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},enter:function(a){var c=b.fn[this.type].defaults,d={},e;this._options&&b.each(this._options,function(a,b){c[a]!=b&&(d[a]=b)},this);e=
    b(a.currentTarget)[this.type](d).data(this.type);if(!e.options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout);e.hoverState="in";this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(a){var c=b(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out";this.timeout=setTimeout(function(){"out"==c.hoverState&&
c.hide()},c.options.delay.hide)},show:function(){var a,c,d,e,g;c=b.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");e="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;a.detach().css({top:0,left:0,display:"block"});this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);c=
    this.getPosition();d=a[0].offsetWidth;a=a[0].offsetHeight;switch(e){case "bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case "top":g={top:c.top-a,left:c.left+c.width/2-d/2};break;case "left":g={top:c.top+c.height/2-a/2,left:c.left-d};break;case "right":g={top:c.top+c.height/2-a/2,left:c.left+c.width}}this.applyPlacement(g,e);this.$element.trigger("shown")}},applyPlacement:function(a,c){var b=this.tip(),e=b[0].offsetWidth,g=b[0].offsetHeight,f,h,k,l;b.offset(a).addClass(c).addClass("in");
    f=b[0].offsetWidth;h=b[0].offsetHeight;"top"==c&&h!=g&&(a.top=a.top+g-h,l=!0);"bottom"==c||"top"==c?(k=0,0>a.left&&(k=-2*a.left,a.left=0,b.offset(a),f=b[0].offsetWidth),this.replaceArrow(k-e+f,f,"left")):this.replaceArrow(h-g,h,"top");l&&b.offset(a)},replaceArrow:function(a,b,d){this.arrow().css(d,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var a=
    setTimeout(function(){c.off(b.support.transition.end).detach()},500);c.one(b.support.transition.end,function(){clearTimeout(a);c.detach()})}var c=this.tip(),d=b.Event("hide");this.$element.trigger(d);if(!d.isDefaultPrevented())return c.removeClass("in"),b.support.transition&&this.$tip.hasClass("fade")?a():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||
    "").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return b.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,d=this.options;return a=b.attr("data-original-title")||("function"==typeof d.title?d.title.call(b[0]):d.title),a},tip:function(){return this.$tip=this.$tip||b(this.options.template)},arrow:function(){return this.$arrow=
    this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=a?b(a.currentTarget)[this.type](this._options).data(this.type):this;a.tip().hasClass("in")?a.hide():a.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var h=b.fn.tooltip;
    b.fn.tooltip=function(a){return this.each(function(){var c=b(this),d=c.data("tooltip"),e="object"==typeof a&&a;d||c.data("tooltip",d=new f(this,e));"string"==typeof a&&d[a]()})};b.fn.tooltip.Constructor=f;b.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};b.fn.tooltip.noConflict=function(){return b.fn.tooltip=h,this}}(window.jQuery);
!function(b){var f=function(a,c){this.options=b.extend({},b.fn.affix.defaults,c);this.$window=b(window).on("scroll.affix.data-api",b.proxy(this.checkPosition,this)).on("click.affix.data-api",b.proxy(function(){setTimeout(b.proxy(this.checkPosition,this),1)},this));this.$element=b(a);this.checkPosition()};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=b(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,g=e.bottom,f=e.top;"object"!=
    typeof e&&(g=f=e);"function"==typeof f&&(f=e.top());"function"==typeof g&&(g=e.bottom());a=null!=this.unpin&&c+this.unpin<=d.top?!1:null!=g&&d.top+this.$element.height()>=a-g?"bottom":null!=f&&c<=f?"top":!1;this.affixed!==a&&(this.affixed=a,this.unpin="bottom"==a?d.top-c:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(a?"-"+a:"")))}};var h=b.fn.affix;b.fn.affix=function(a){return this.each(function(){var c=b(this),d=c.data("affix"),e="object"==typeof a&&a;d||c.data("affix",
    d=new f(this,e));"string"==typeof a&&d[a]()})};b.fn.affix.Constructor=f;b.fn.affix.defaults={offset:0};b.fn.affix.noConflict=function(){return b.fn.affix=h,this};b(window).on("load",function(){b('[data-spy="affix"]').each(function(){var a=b(this),c=a.data();c.offset=c.offset||{};c.offsetBottom&&(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);a.affix(c)})})}(window.jQuery);
!function(b){var f=function(a){b(a).on("click",'[data-dismiss="alert"]',this.close)};f.prototype.close=function(a){function c(){f.trigger("closed").remove()}var d=b(this),e=d.attr("data-target"),f;e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));f=b(e);a&&a.preventDefault();f.length||(f=d.hasClass("alert")?d:d.parent());f.trigger(a=b.Event("close"));a.isDefaultPrevented()||(f.removeClass("in"),b.support.transition&&f.hasClass("fade")?f.on(b.support.transition.end,c):c())};var h=b.fn.alert;
    b.fn.alert=function(a){return this.each(function(){var c=b(this),d=c.data("alert");d||c.data("alert",d=new f(this));"string"==typeof a&&d[a].call(c)})};b.fn.alert.Constructor=f;b.fn.alert.noConflict=function(){return b.fn.alert=h,this};b(document).on("click.alert.data-api",'[data-dismiss="alert"]',f.prototype.close)}(window.jQuery);
!function(b){var f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.collapse.defaults,c);this.options.parent&&(this.$parent=b(this.options.parent));this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){a=this.dimension();c=b.camelCase(["scroll",a].join("-"));if((d=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
    d.length){if((e=d.data("collapse"))&&e.transitioning)return;d.collapse("hide");e||d.data("collapse",null)}this.$element[a](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[a](this.$element[0][c])}},hide:function(){var a;!this.transitioning&&this.$element.hasClass("in")&&(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",b.Event("hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||
    "auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(a,c,d){var e=this,f=function(){"show"==c.type&&e.reset();e.transitioning=0;e.$element.trigger(d)};this.$element.trigger(c);c.isDefaultPrevented()||(this.transitioning=1,this.$element[a]("in"),b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var h=b.fn.collapse;
    b.fn.collapse=function(a){return this.each(function(){var c=b(this),d=c.data("collapse"),e=b.extend({},b.fn.collapse.defaults,c.data(),"object"==typeof a&&a);d||c.data("collapse",d=new f(this,e));"string"==typeof a&&d[a]()})};b.fn.collapse.defaults={toggle:!0};b.fn.collapse.Constructor=f;b.fn.collapse.noConflict=function(){return b.fn.collapse=h,this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(a){var c=b(this),d;a=c.attr("data-target")||a.preventDefault()||(d=c.attr("href"))&&
        d.replace(/.*(?=#[^\s]+$)/,"");d=b(a).data("collapse")?"toggle":c.data();c[b(a).hasClass("in")?"addClass":"removeClass"]("collapsed");b(a).collapse(d)})}(window.jQuery);
;

/* ------------------------------------------------------------------------
 Class: prettyPhoto
 Use: Lightbox clone for jQuery
 Author: Stephane Caron (http://www.no-margin-for-errors.com)
 Version: 3.1.5
 ------------------------------------------------------------------------- */
(function(e){function t(){var e=location.href;hashtag=e.indexOf("#prettyPhoto")!==-1?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):false;return hashtag}function n(){if(typeof theRel=="undefined")return;location.hash=theRel+"/"+rel_index+"/"}function r(){if(location.href.indexOf("#prettyPhoto")!==-1)location.hash="prettyPhoto"}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)";var r=new RegExp(n);var i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.5"};e.fn.prettyPhoto=function(s){function g(){e(".pp_loaderIcon").hide();projectedTop=scroll_pos["scrollTop"]+(d/2-a["containerHeight"]/2);if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:a["contentHeight"],width:a["contentWidth"]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a["containerWidth"]/2<0?0:v/2-a["containerWidth"]/2,width:a["containerWidth"]},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(a["height"]).width(a["width"]);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&S(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(settings.allow_expand){if(a["resized"]){e("a.pp_expand,a.pp_contract").show()}else{e("a.pp_expand").hide()}}if(settings.autoplay_slideshow&&!m&&!f)e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=true});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function b(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function w(e,t){resized=false;E(e,t);imageWidth=e,imageHeight=t;if((p>v||h>d)&&doresize&&settings.allow_resize&&!u){resized=true,fitting=false;while(!fitting){if(p>v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h>d){imageHeight=d-200;imageWidth=e/t*imageHeight}else{fitting=true}h=imageHeight,p=imageWidth}if(p>v||h>d){w(p,h)}E(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+settings.horizontal_padding*2,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();p=t}function S(e){if(e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)){return"youtube"}else if(e.match(/vimeo\.com/i)){return"vimeo"}else if(e.match(/\b.mov\b/i)){return"quicktime"}else if(e.match(/\b.swf\b/i)){return"flash"}else if(e.match(/\biframe=true\b/i)){return"iframe"}else if(e.match(/\bajax=true\b/i)){return"ajax"}else if(e.match(/\bcustom=true\b/i)){return"custom"}else if(e.substr(0,1)=="#"){return"inline"}else{return"image"}}function x(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos["scrollTop"]-contentHeight/2;if(projectedTop<0)projectedTop=0;if(contentHeight>d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos["scrollLeft"]-contentwidth/2})}}function T(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function N(){d=e(window).height(),v=e(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&&settings.overlay_gallery&&S(pp_images[set_position])=="image"){itemWidth=52+5;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((a["containerWidth"]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function k(t){if(settings.social_tools)facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));settings.markup=settings.markup.replace("{pp_social}","");e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){if(!settings.modal)e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return false});if(settings.allow_expand){e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}y(function(){e.prettyPhoto.open()});return false})}$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return false});x()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> 						<div class="ppt"> </div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var o=this,u=false,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=true,scroll_pos=T();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){x();N()});if(s.keyboard_shortcuts){e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=s;if(settings.theme=="pp_default")settings.horizontal_padding=16;theRel=e(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray(e(this).attr("href"),pp_images);rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this));k(this);if(settings.allow_resize)e(window).bind("scroll.prettyphoto",function(){x()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(t){if(typeof settings=="undefined"){settings=s;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?true:false;set_position=arguments[3]?arguments[3]:0;k(t.target)}if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");b(e(pp_images).size());e(".pp_loaderIcon").show();if(settings.deeplinking)n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}if($ppt.is(":hidden"))$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());if(typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""){$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(".pp_description").hide()}movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString();u=false;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=true}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(" ");imgPreloader="";skipInjection=false;switch(S(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":a=w(movie_width,movie_height);movie_id=i("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];if(movie_id.indexOf("?")>0)movie_id=movie_id.substr(0,movie_id.indexOf("?"));if(movie_id.indexOf("&")>0)movie_id=movie_id.substr(0,movie_id.indexOf("&"))}movie="http://www.youtube.com/embed/"+movie_id;i("rel",pp_images[set_position])?movie+="?rel="+i("rel",pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/;var n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&byline=0&portrait=0";if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=a["width"]+"/embed/?moog_width="+a["width"];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a["height"]).replace(/{path}/g,movie);break;case"quicktime":a=w(movie_width,movie_height);a["height"]+=15;a["contentHeight"]+=15;a["containerHeight"]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;a=w(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()});break;case"custom":a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=false;a=w(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;if(set_position<0)set_position=e(pp_images).size()-1}else if(t=="next"){set_position++;if(set_position>e(pp_images).size()-1)set_position=0}else{set_position=t}rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){e(".pp_contract").removeClass("pp_contract").addClass("pp_expand")}y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0}else if(e=="previous"){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage}else{currentGalleryPage=e}slide_speed=e=="next"||e=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return false});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage("next")}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");r();settings.callback();doresize=true;f=false;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=true;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)};})(jQuery);var pp_alreadyInitialized=false
;

/**
 * Modernizer
 */
window.Modernizr=function(g,f,E){function B(b,d){for(var v in b){var p=b[v];if(!~(""+p).indexOf("-")&&w[p]!==E)return"pfx"==d?p:!0}return!1}var e={},r=f.documentElement,x=f.createElement("modernizr"),w=x.style,I=["Webkit","Moz","O","ms"],J=["webkit","moz","o","ms"],x={},D=[],h=D.slice,t,y=function(b,d,v,p){var e,F,g,q,u=f.createElement("div"),h=f.body,n=h||f.createElement("body");if(parseInt(v,10))for(;v--;)g=f.createElement("div"),g.id=p?p[v]:"modernizr"+(v+1),u.appendChild(g);return e=['&#173;<style id="smodernizr">',
    b,"</style>"].join(""),u.id="modernizr",(h?u:n).innerHTML+=e,n.appendChild(u),h||(n.style.background="",n.style.overflow="hidden",q=r.style.overflow,r.style.overflow="hidden",r.appendChild(n)),F=d(u,b),h?u.parentNode.removeChild(u):(n.parentNode.removeChild(n),r.style.overflow=q),!!F},C={}.hasOwnProperty,z;"undefined"===typeof C||"undefined"===typeof C.call?z=function(b,d){return d in b&&"undefined"===typeof b.constructor.prototype[d]}:z=function(b,d){return C.call(b,d)};Function.prototype.bind||
(Function.prototype.bind=function(b){var d=this;if("function"!=typeof d)throw new TypeError;var e=h.call(arguments,1),p=function(){if(this instanceof p){var f=function(){};f.prototype=d.prototype;var f=new f,g=d.apply(f,e.concat(h.call(arguments)));return Object(g)===g?g:f}return d.apply(b,e.concat(h.call(arguments)))};return p});for(var A in x)z(x,A)&&(t=A.toLowerCase(),e[t]=x[A](),D.push((e[t]?"":"no-")+t));e.addTest=function(b,d){if("object"==typeof b)for(var f in b)z(b,f)&&e.addTest(f,b[f]);else{b=
    b.toLowerCase();if(e[b]!==E)return e;d="function"==typeof d?d():d;r.className+=" "+(d?"":"no-")+b;e[b]=d}return e};w.cssText="";return x=null,function(b,d){function f(){var a=G.elements;return"string"==typeof a?a.split(" "):a}function p(K){var c=N[K[a]];return c||(c={},H++,K[a]=H,N[H]=c),c}function e(a,c,l){c||(c=d);if(s)return c.createElement(a);l||(l=p(c));var k;return l.cache[a]?k=l.cache[a].cloneNode():t.test(a)?k=(l.cache[a]=l.createElem(a)).cloneNode():k=l.createElem(a),k.canHaveChildren&&!r.test(a)?
    l.frag.appendChild(k):k}function g(a,c){c.cache||(c.cache={},c.createElem=a.createElement,c.createFrag=a.createDocumentFragment,c.frag=c.createFrag());a.createElement=function(l){return G.shivMethods?e(l,a,c):c.createElem(l)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+f().join().replace(/\w+/g,function(a){return c.createElem(a),c.frag.createElement(a),'c("'+a+'")'})+");return n}")(G,c.frag)}function h(a){a||(a=d);var c=p(a);if(G.shivCSS&&
    !n&&!c.hasCSS){var l,k=a;l=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;l=(l.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",k.insertBefore(l.lastChild,k.firstChild));c.hasCSS=!!l}return s||g(a,c),a}var q=b.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,t=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
    n,a="_html5shiv",H=0,N={},s;(function(){try{var a=d.createElement("a");a.innerHTML="<xyz></xyz>";n="hidden"in a;var c;if(!(c=1==a.childNodes.length)){d.createElement("a");var l=d.createDocumentFragment();c="undefined"==typeof l.cloneNode||"undefined"==typeof l.createDocumentFragment||"undefined"==typeof l.createElement}s=c}catch(k){s=n=!0}})();var G={elements:q.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
    shivCSS:!1!==q.shivCSS,supportsUnknownElements:s,shivMethods:!1!==q.shivMethods,type:"default",shivDocument:h,createElement:e,createDocumentFragment:function(a,c){a||(a=d);if(s)return a.createDocumentFragment();c=c||p(a);for(var l=c.frag.cloneNode(),k=0,b=f(),H=b.length;k<H;k++)l.createElement(b[k]);return l}};b.html5=G;h(d)}(this,f),e._version="2.6.2",e._prefixes=" -webkit- -moz- -o- -ms- ".split(" "),e._domPrefixes=J,e._cssomPrefixes=I,e.mq=function(b){var d=g.matchMedia||g.msMatchMedia;if(d)return d(b).matches;
    var f;return y("@media "+b+" { #modernizr { position: absolute; } }",function(b){f="absolute"==(g.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),f},e.testProp=function(b){return B([b])},e.testAllProps=function(b,d,f){var e=b.charAt(0).toUpperCase()+b.slice(1),g=(b+" "+I.join(e+" ")+e).split(" ");if("string"===typeof d||"undefined"===typeof d)d=B(g,d);else a:{g=(b+" "+J.join(e+" ")+e).split(" "),b=g;for(var h in b)if(e=d[b[h]],e!==E){d=!1===f?b[h]:"function"===typeof e?e.bind(f||
    d):e;break a}d=!1}return d},e.testStyles=y,r.className=r.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+D.join(" ")),e}(this,this.document);
(function(g,f,E){function B(a){return"[object Function]"==C.call(a)}function e(a){return"string"==typeof a}function r(){}function x(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function w(){var a=z.shift();A=1;a?a.t?t(function(){("c"==a.t?n.injectCss:n.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),w()):A=0}function I(a,b,e,g,h,K,c){function l(c){if(!O&&x(k.readyState)&&(r.r=O=1,!A&&w(),k.onload=k.onreadystatechange=null,c)){"img"!=a&&t(function(){v.removeChild(k)},50);for(var l in q[b])q[b].hasOwnProperty(l)&&
q[b][l].onload()}}c=c||n.errorTimeout;var k=f.createElement(a),O=0,p=0,r={t:e,s:b,e:h,a:K,x:c};1===q[b]&&(p=1,q[b]=[]);"object"==a?k.data=b:(k.src=b,k.type=a);k.width=k.height="0";k.onerror=k.onload=k.onreadystatechange=function(){l.call(this,p)};z.splice(g,0,r);"img"!=a&&(p||2===q[b]?(v.insertBefore(k,d?null:y),t(l,c)):q[b].push(k))}function J(a,b,d,f,g){return A=0,b=b||"j",e(a)?I("c"==b?P:p,a,b,this.i++,d,f,g):(z.splice(this.i++,0,a),1==z.length&&w()),this}function D(){var a=n;return a.loader={load:J,
    i:0},a}var h=f.documentElement,t=g.setTimeout,y=f.getElementsByTagName("script")[0],C={}.toString,z=[],A=0,b="MozAppearance"in h.style,d=b&&!!f.createRange().compareNode,v=d?h:y.parentNode,h=g.opera&&"[object Opera]"==C.call(g.opera),h=!!f.attachEvent&&!h,p=b?"object":h?"script":"img",P=h?"script":p,F=Array.isArray||function(a){return"[object Array]"==C.call(a)},L=[],q={},u={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},M,n;n=function(a){function b(a){a=a.split("!");var c=L.length,d=
    a.pop(),f=a.length,d={url:d,origUrl:d,prefixes:a},e,m,g;for(m=0;m<f;m++)g=a[m].split("="),(e=u[g.shift()])&&(d=e(d,g));for(m=0;m<c;m++)d=L[m](d);return d}function d(a,c,f,e,g){var m=b(a),h=m.autoCallback;m.url.split(".").pop().split("?").shift();m.bypass||(c&&(c=B(c)?c:c[a]||c[e]||c[a.split("/").pop().split("?")[0]]),m.instead?m.instead(a,c,f,e,g):(q[m.url]?m.noexec=!0:q[m.url]=1,f.load(m.url,m.forceCSS||!m.forceJS&&"css"==m.url.split(".").pop().split("?").shift()?"c":E,m.noexec,m.attrs,m.timeout),
    (B(c)||B(h))&&f.load(function(){D();c&&c(m.origUrl,g,e);h&&h(m.origUrl,g,e);q[m.url]=2})))}function f(a,c){function b(a,f){if(a)if(e(a))f||(m=function(){var a=[].slice.call(arguments);n.apply(this,a);p()}),d(a,m,c,0,g);else{if(Object(a)===a)for(s in q=function(){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(s)&&(!f&&!--q&&(B(m)?m=function(){var a=[].slice.call(arguments);n.apply(this,a);p()}:m[s]=function(a){return function(){var c=[].slice.call(arguments);a&&a.apply(this,
    c);p()}}(n[s])),d(a[s],m,c,s,g))}else!f&&p()}var g=!!a.test,h=a.load||a.both,m=a.callback||r,n=m,p=a.complete||r,q,s;b(g?a.yep:a.nope,!!h);h&&b(h)}var g,h,c=this.yepnope.loader;if(e(a))d(a,0,c,0);else if(F(a))for(g=0;g<a.length;g++)h=a[g],e(h)?d(h,0,c,0):F(h)?n(h):Object(h)===h&&f(h,c);else Object(a)===a&&f(a,c)};n.addPrefix=function(a,b){u[a]=b};n.addFilter=function(a){L.push(a)};n.errorTimeout=1E4;null==f.readyState&&f.addEventListener&&(f.readyState="loading",f.addEventListener("DOMContentLoaded",
    M=function(){f.removeEventListener("DOMContentLoaded",M,0);f.readyState="complete"},0));g.yepnope=D();g.yepnope.executeStack=w;g.yepnope.injectJs=function(a,b,d,e,g,h){var c=f.createElement("script"),l,k;e=e||n.errorTimeout;c.src=a;for(k in d)c.setAttribute(k,d[k]);b=h?w:b||r;c.onreadystatechange=c.onload=function(){!l&&x(c.readyState)&&(l=1,b(),c.onload=c.onreadystatechange=null)};t(function(){l||(l=1,b(1))},e);g?c.onload():y.parentNode.insertBefore(c,y)};g.yepnope.injectCss=function(a,b,d,e,g,h){e=
    f.createElement("link");var c;b=h?w:b||r;e.href=a;e.rel="stylesheet";e.type="text/css";for(c in d)e.setAttribute(c,d[c]);g||(y.parentNode.insertBefore(e,y),t(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
;

/**
 * Magnific popup
 */
(function(e){var a,v,n,q,u,m,A,t=function(){},r=e(window),h=function(b,c){a.ev.on("mfp"+b+".mfp",c)},p=function(a,c,d,g){var f=document.createElement("div");return f.className="mfp-"+a,d&&(f.innerHTML=d),g?c&&c.appendChild(f):(f=e(f),c&&f.appendTo(c)),f},k=function(b,c){a.ev.triggerHandler("mfp"+b,c);a.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),a.st.callbacks[b]&&a.st.callbacks[b].apply(a,e.isArray(c)?c:[c]))},w=function(){(a.st.focus?a.content.find(a.st.focus).eq(0):a.wrap).focus()},x=
    function(b){return b===A&&a.currTemplate.closeBtn||(a.currTemplate.closeBtn=e(a.st.closeMarkup.replace("%title%",a.st.tClose)),A=b),a.currTemplate.closeBtn};t.prototype={constructor:t,init:function(){var b=navigator.appVersion;a.isIE7=-1!==b.indexOf("MSIE 7.");a.isAndroid=/android/gi.test(b);a.isIOS=/iphone|ipad|ipod/gi.test(b);a.probablyMobile=a.isAndroid||a.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);n=e(document.body);q=e(document);
    a.popupsCache={}},open:function(b){if(!a.isOpen){var c;if(a.types=[],m="",a.ev=b.el||q,b.isObj)a.index=b.index||0;else{a.index=0;var d,g=b.items;for(c=0;g.length>c;c++)if(d=g[c],d.parsed&&(d=d.el[0]),d===b.el[0]){a.index=c;break}}b.key?(a.popupsCache[b.key]||(a.popupsCache[b.key]={}),a.currTemplate=a.popupsCache[b.key]):a.currTemplate={};a.st=e.extend(!0,{},e.magnificPopup.defaults,b);a.fixedContentPos="auto"===a.st.fixedContentPos?!a.probablyMobile:a.st.fixedContentPos;a.items=b.items.length?b.items:
    [b.items];a.bgOverlay||(a.bgOverlay=p("bg").on("click.mfp",function(){a.close()}),a.wrap=p("wrap").attr("tabindex",-1).on("click.mfp",function(b){var c=b.target;e(c).hasClass("mfp-prevent-close")||(a.st.closeOnContentClick?a.close():(!a.content||e(c).hasClass("mfp-close")||a.preloader&&b.target===a.preloader[0]||c!==a.content[0]&&!e.contains(a.content[0],c))&&a.close())}),a.container=p("container",a.wrap));a.contentContainer=p("content");a.st.preloader&&(a.preloader=p("preloader",a.container,a.st.tLoading));
    b=e.magnificPopup.modules;for(c=0;b.length>c;c++)d=b[c],d=d.charAt(0).toUpperCase()+d.slice(1),a["init"+d].call(a);k("BeforeOpen");a.st.closeBtnInside?(h("MarkupParse",function(a,b,c,d){c.close_replaceWith=x(d.type)}),m+=" mfp-close-btn-in"):a.wrap.append(x());a.st.alignTop&&(m+=" mfp-align-top");a.fixedContentPos?a.wrap.css({overflow:a.st.overflowY,overflowX:"hidden",overflowY:a.st.overflowY}):a.wrap.css({top:r.scrollTop(),position:"absolute"});(!1===a.st.fixedBgPos||"auto"===a.st.fixedBgPos&&!a.fixedContentPos)&&
    a.bgOverlay.css({height:q.height(),position:"absolute"});q.on("keyup.mfp",function(b){27===b.keyCode&&a.close()});r.on("resize.mfp",function(){a.updateSize()});a.st.closeOnContentClick||(m+=" mfp-auto-cursor");m&&a.wrap.addClass(m);c=a.wH=r.height();b={};a.fixedContentPos&&"scroll"!==a.st.overflowY&&(d=a._getScrollbarSize())&&(b.paddingRight=d);a.fixedContentPos&&(a.isIE7?e("body, html").css("overflow","hidden"):b.overflow="hidden");d=a.st.mainClass;a.isIE7&&(d+=" mfp-ie7");d&&a._addClassToMFP(d);
    a.updateItemHTML();n.css(b);a.bgOverlay.add(a.wrap).prependTo(document.body);a._lastFocusedEl=document.activeElement;setTimeout(function(){a.content?(a._addClassToMFP("mfp-ready"),w()):a.bgOverlay.addClass("mfp-ready");q.on("focusin.mfp",function(b){return b.target===a.wrap[0]||e.contains(a.wrap[0],b.target)?void 0:(w(),!1)})},16);a.isOpen=!0;a.updateSize(c);k("Open")}},close:function(){a.isOpen&&(a.isOpen=!1,a.st.removalDelay?(a._addClassToMFP("mfp-removing"),setTimeout(function(){a._close()},a.st.removalDelay)):
    a._close())},_close:function(){k("Close");var b="mfp-removing mfp-ready ";if(a.bgOverlay.detach(),a.wrap.detach(),a.container.empty(),a.st.mainClass&&(b+=a.st.mainClass+" "),a._removeClassFromMFP(b),a.fixedContentPos)b={paddingRight:0},a.isIE7?e("body, html").css("overflow","auto"):b.overflow="visible",n.css(b);q.off("keyup.mfp focusin.mfp");a.ev.off(".mfp");a.wrap.attr("class","mfp-wrap").removeAttr("style");a.bgOverlay.attr("class","mfp-bg");a.container.attr("class","mfp-container");a.st.closeBtnInside&&
    !0!==a.currTemplate[a.currItem.type]||a.currTemplate.closeBtn&&a.currTemplate.closeBtn.detach();a._lastFocusedEl&&e(a._lastFocusedEl).focus();a.currTemplate=null;a.prevHeight=0},updateSize:function(b){a.isIOS?(b=document.documentElement.clientWidth/window.innerWidth*window.innerHeight,a.wrap.css("height",b),a.wH=b):a.wH=b||r.height();k("Resize")},updateItemHTML:function(){var b=a.items[a.index];a.contentContainer.detach();b.parsed||(b=a.parseEl(a.index));a.currItem=b;var c=b.type;if(!a.currTemplate[c]){var d=
    a.st[c]?a.st[c].markup:!1;d?(k("FirstMarkupParse",d),a.currTemplate[c]=e(d)):a.currTemplate[c]=!0}u&&u!==b.type&&a.container.removeClass("mfp-"+u+"-holder");d=a["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,a.currTemplate[c]);a.appendContent(d,c);b.preloaded=!0;k("Change",b);u=b.type;a.container.prepend(a.contentContainer)},appendContent:function(b,c){(a.content=b)?a.st.closeBtnInside&&!0===a.currTemplate[c]?a.content.find(".mfp-close").length||a.content.append(x()):a.content=b:a.content="";k("BeforeAppend");
    a.container.addClass("mfp-"+c+"-holder");a.contentContainer.html(a.content)},parseEl:function(b){var c=a.items[b],d=c.type;if(c=c.tagName?{el:e(c)}:{data:c,src:c.src},c.el){for(var g=a.types,f=0;g.length>f;f++)if(c.el.hasClass("mfp-"+g[f])){d=g[f];break}c.src=c.el.attr("data-mfp-src");c.src||(c.src=c.el.attr("href"))}return c.type=d||a.st.type,c.index=b,c.parsed=!0,a.items[b]=c,k("ElementParse",c),a.items[b]},addGroup:function(b,c){var d=function(d){if((void 0!==c.midClick?c.midClick:e.magnificPopup.defaults.midClick)||
    2!==d.which){var f=void 0!==c.disableOn?c.disableOn:e.magnificPopup.defaults.disableOn;if(f)if(e.isFunction(f)){if(!f.call(a))return!0}else if(f>e(window).width())return!0;d.preventDefault();c.el=e(this);c.delegate&&(c.items=b.find(c.delegate));a.open(c)}};c||(c={});c.items?(c.isObj=!0,b.off("click.magnificPopup").on("click.magnificPopup",d)):(c.isObj=!1,c.delegate?b.off("click.magnificPopup").on("click.magnificPopup",c.delegate,d):(c.items=b,b.off("click.magnificPopup").on("click.magnificPopup",
    d)))},updateStatus:function(b,c){if(a.preloader){v!==b&&a.container.removeClass("mfp-s-"+v);c||"loading"!==b||(c=a.st.tLoading);var d={status:b,text:c};k("UpdateStatus",d);b=d.status;c=d.text;a.preloader.html(c);a.preloader.find("a").click(function(a){a.stopImmediatePropagation()});a.container.addClass("mfp-s-"+b);v=b}},_addClassToMFP:function(b){a.bgOverlay.addClass(b);a.wrap.addClass(b)},_removeClassFromMFP:function(b){this.bgOverlay.removeClass(b);a.wrap.removeClass(b)},_hasScrollBar:function(a){return document.body.clientHeight>
    (a||r.height())?!0:!1},_parseMarkup:function(a,c,d){var g;d.data&&(c=e.extend(d.data,c));k("MarkupParse",[a,c,d]);e.each(c,function(c,d){if(void 0===d||!1===d)return!0;if(g=c.split("_"),1<g.length){var e=a.find(".mfp-"+g[0]);if(0<e.length){var h=g[1];"replaceWith"===h?e[0]!==d[0]&&e.replaceWith(d):"img"===h?e.is("img")?e.attr("src",d):e.replaceWith('<img src="'+d+'" class="'+e.attr("class")+'" />'):e.attr(g[1],d)}}else a.find(".mfp-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===a.scrollbarSize){var b=
    document.createElement("div");b.id="mfp-sbm";b.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(b);a.scrollbarSize=b.offsetWidth-b.clientWidth;document.body.removeChild(b)}return a.scrollbarSize}};e.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return e.magnificPopup.instance||(a=new t,a.init(),e.magnificPopup.instance=a),b||(b={}),b.isObj=!0,b.index=void 0===c?0:c,this.instance.open(b)},close:function(){return e.magnificPopup.instance.close()},
    registerModule:function(a,c){c.options&&(e.magnificPopup.defaults[a]=c.options);e.extend(this.proto,c.proto);this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeBtnInside:!0,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};e.fn.magnificPopup=function(b){return e.magnificPopup.instance||
    (a=new t,a.init(),e.magnificPopup.instance=a),a.addGroup(e(this),b),e(this)};var y;e.magnificPopup.registerModule("inline",{options:{hiddenClass:"mfp-hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){a.types.push("inline");y=!1;h("Close.inline",function(){var b=a.currItem;if("inline"===b.type){if(y)for(var c=0;a.items.length>c;c++)(b=a.items[c])&&b.inlinePlaceholder&&b.inlinePlaceholder.after(b.inlineElement.addClass(a.st.inline.hiddenClass)).detach();b.inlinePlaceholder=
    b.inlineElement=null}})},getInline:function(b,c){if(a.updateStatus("ready"),b.src){var d=a.st.inline;return"string"!=typeof b.src&&(b.isElement=!0),b.isElement||b.inlinePlaceholder||(b.inlinePlaceholder=p(d.hiddenClass)),b.isElement?b.inlineElement=b.src:b.inlineElement||(b.inlineElement=e(b.src),b.inlineElement.length||(a.updateStatus("error",d.tNotFound),b.inlineElement=e("<div>"))),b.inlinePlaceholder&&(y=!0),b.inlineElement.after(b.inlinePlaceholder).detach().removeClass(d.hiddenClass),b.inlineElement}return a._parseMarkup(c,
    {},b),c}}});var l;e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){a.types.push("ajax");l=a.st.ajax.cursor;h("Close.ajax",function(){l&&n.removeClass(l);a.req&&a.req.abort()})},getAjax:function(b){l&&n.addClass(l);a.updateStatus("loading");var c=e.extend({url:b.src,success:function(c,g,f){k("ParseAjax",f);a.appendContent(e(f.responseText),"ajax");b.finished=!0;l&&n.removeClass(l);
    w();setTimeout(function(){a.wrap.addClass("mfp-ready")},16);a.updateStatus("ready")},error:function(){l&&n.removeClass(l);b.finished=b.loadError=!0;a.updateStatus("error",a.st.ajax.tError.replace("%url%",b.src))}},a.st.ajax.settings);return a.req=e.ajax(c),""}}});var s,D=function(b){if(b.data&&void 0!==b.data.title)return b.data.title;var c=a.st.image.titleSrc;if(c){if(e.isFunction(c))return c.call(a,b);if(b.el)return b.el.attr(c)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',
    cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var b=a.st.image;a.types.push("image");h("Open.image",function(){"image"===a.currItem.type&&b.cursor&&n.addClass(b.cursor)});h("Close.image",function(){b.cursor&&n.removeClass(b.cursor);r.off("resize.mfp")});h("Resize.image",function(){a.resizeImage()})},resizeImage:function(){var b=a.currItem;b.img&&a.st.image.verticalFit&&b.img.css("max-height",a.wH+
    "px")},_onImageHasSize:function(b){b.img&&(b.hasSize=!0,s&&clearInterval(s),b.isCheckingImgSize=!1,k("ImageHasSize",b),b.imgHidden&&(a.content.removeClass("mfp-loading"),b.imgHidden=!1))},findImageSize:function(b){var c=0,d=b.img[0],e=function(f){s&&clearInterval(s);s=setInterval(function(){return 0<d.naturalWidth?(a._onImageHasSize(b),void 0):(200<c&&clearInterval(s),c++,3===c?e(10):40===c?e(50):100===c&&e(500),void 0)},f)};e(1)},getImage:function(b,c){var d=0,g=function(){b&&(b.img[0].complete?
    (b.img.off(".mfploader"),b===a.currItem&&(a._onImageHasSize(b),a.updateStatus("ready")),b.hasSize=!0,b.loaded=!0):(d++,200>d?setTimeout(g,100):f()))},f=function(){b&&(b.img.off(".mfploader"),b===a.currItem&&(a._onImageHasSize(b),a.updateStatus("error",h.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},h=a.st.image,k=c.find(".mfp-img");if(k.length){var m=new Image;m.className="mfp-img";b.img=e(m).on("load.mfploader",g).on("error.mfploader",f);m.src=b.src;k.is("img")&&(b.img=
    b.img.clone())}return a._parseMarkup(c,{title:D(b),img_replaceWith:b.img},b),a.resizeImage(),b.hasSize?(s&&clearInterval(s),b.loadError?(c.addClass("mfp-loading"),a.updateStatus("error",h.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),a.updateStatus("ready")),c):(a.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),a.findImageSize(b)),c)}}});var B=function(b){if(a.isIE7&&a.currItem&&"iframe"===a.currItem.type){var c=a.content.find("iframe");c.length&&
c.css("display",b?"block":"none")}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){a.types.push("iframe");
    B(!0);h("Close.iframe",function(){B()})},getIframe:function(b,c){var d=b.src,g=a.st.iframe;e.each(g.patterns,function(){return-1<d.indexOf(this.index)?(this.id&&(d="string"==typeof this.id?d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):this.id.call(this,d)),d=this.src.replace("%id%",d),!1):void 0});var f={};return g.srcAction&&(f[g.srcAction]=d),a._parseMarkup(c,f,b),a.updateStatus("ready"),c}}});var z=function(b){var c=a.items.length;return b>c-1?b-c:0>b?c+b:b},C=function(a,c,d){return a.replace("%curr%",
    c+1).replace("%total%",d)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var b=a.st.gallery,c=Boolean(e.fn.mfpFastClick);return a.direction=!0,b&&b.enabled?(m+=" mfp-gallery",h("Open.mfp-gallery",function(){b.navigateByImgClick&&
a.wrap.on("click.mfp-gallery",".mfp-img",function(){return a.next(),!1});q.on("keydown.mfp-gallery",function(b){37===b.keyCode?a.prev():39===b.keyCode&&a.next()})}),h("UpdateStatus.mfp-gallery",function(b,c){c.text&&(c.text=C(c.text,a.currItem.index,a.items.length))}),h("MarkupParse.mfp-gallery",function(c,e,f,h){c=a.items.length;f.counter=c?C(b.tCounter,h.index,c):""}),h("Change.mfp-gallery",function(){if(a._preloadTimeout&&clearTimeout(a._preloadTimeout),a._preloadTimeout=setTimeout(function(){a.preloadNearbyImages();
    a._preloadTimeout=null},16),b.arrows&&!a.arrowLeft){var d=b.arrowMarkup,g=a.arrowLeft=e(d.replace("%title%",b.tPrev).replace("%dir%","left")).addClass("mfp-prevent-close"),d=a.arrowRight=e(d.replace("%title%",b.tNext).replace("%dir%","right")).addClass("mfp-prevent-close"),f=c?"mfpFastClick":"click";g[f](function(){a.prev()});d[f](function(){a.next()});a.isIE7&&(p("b",g[0],!1,!0),p("a",g[0],!1,!0),p("b",d[0],!1,!0),p("a",d[0],!1,!0));a.container.append(g.add(d))}}),h("Close.mfp-gallery",function(){q.off(".mfp-gallery");
    a.wrap.off("click.mfp-gallery");c&&a.arrowLeft.add(a.arrowRight).destroyMfpFastClick();a.arrowRight=a.arrowLeft=null}),void 0):!1},next:function(){a.direction=!0;a.index=z(a.index+1);a.updateItemHTML()},prev:function(){a.direction=!1;a.index=z(a.index-1);a.updateItemHTML()},preloadNearbyImages:function(){var b;b=a.st.gallery.preload;var c=Math.min(b[0],a.items.length),d=Math.min(b[1],a.items.length);for(b=1;(a.direction?d:c)>=b;b++)a._preloadItem(a.index+b);for(b=1;(a.direction?c:d)>=b;b++)a._preloadItem(a.index-
    b)},_preloadItem:function(b){if(b=z(b),!a.items[b].preloaded){var c=a.items[b];c.parsed||(c=a.parseEl(b));k("LazyLoad",c);"image"===c.type&&(c.img=e('<img class="mfp-img" />').on("load.mfploader",function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0;c.loadError=!0}).attr("src",c.src));c.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var b=
    a.st.retina,c=b.ratio,c=isNaN(c)?c():c;1<c&&(h("ImageHasSize.retina",function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),h("ElementParse.retina",function(a,e){e.src=b.replaceSrc(e,c)}))}}}});(function(){var a="ontouchstart"in window,c=function(){r.off("touchmove"+d+" touchend"+d)},d=".mfpFastClick";e.fn.mfpFastClick=function(g){return e(this).each(function(){var f,h=e(this);if(a){var k,m,p,n,l,q;h.on("touchstart"+d,function(a){n=!1;q=1;l=a.originalEvent?a.originalEvent.touches[0]:
    a.touches[0];m=l.clientX;p=l.clientY;r.on("touchmove"+d,function(a){l=a.originalEvent?a.originalEvent.touches:a.touches;q=l.length;l=l[0];(10<Math.abs(l.clientX-m)||10<Math.abs(l.clientY-p))&&(n=!0,c())}).on("touchend"+d,function(a){c();n||1<q||(f=!0,a.preventDefault(),clearTimeout(k),k=setTimeout(function(){f=!1},1E3),g())})})}h.on("click"+d,function(){f||g()})})};e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+d+" click"+d);a&&r.off("touchmove"+d+" touchend"+d)}})()})(window.jQuery||
        window.Zepto);
;

/**
 * TinyNav
 */
(function(a,k,g){a.fn.tinyNav=function(l){var b=a.extend({active:"selected",header:"",label:""},l);return this.each(function(){g++;var h=a(this),d="tinynav"+g,f=".l_"+d,e=a("<select/>").attr("id",d).addClass("tinynav "+d);if(h.is("ul,ol")){""!==b.header&&e.append(a("<option/>").text(b.header));var c="";h.addClass("l_"+d).find("a").each(function(){c+='<option value="'+a(this).attr("href")+'">';var b;for(b=0;b<a(this).parents("ul, ol").length-1;b++)c+="- ";c+=a(this).text()+"</option>"});e.append(c);
    b.header||e.find(":eq("+a(f+" li").index(a(f+" li."+b.active))+")").attr("selected",!0);e.change(function(){k.location.href=a(this).val()});a(f).after(e);b.label&&e.before(a("<label/>").attr("for",d).addClass("tinynav_label "+d+"_label").append(b.label))}})}})(jQuery,this,0);
;

/**
 * ImagesLoaded
 */

(function (c, q) {
    var m = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
    c.fn.imagesLoaded = function (f) {
        function n() {
            var b = c(j), a = c(h);
            d && (h.length ? d.reject(e, b, a) : d.resolve(e));
            c.isFunction(f) && f.call(g, e, b, a)
        }

        function p(b) {
            k(b.target, "error" === b.type)
        }

        function k(b, a) {
            b.src === m || -1 !== c.inArray(b, l) || (l.push(b), a ? h.push(b) : j.push(b), c.data(b, "imagesLoaded", {isBroken: a, src: b.src}), r && d.notifyWith(c(b), [a, e, c(j), c(h)]), e.length === l.length && (setTimeout(n), e.unbind(".imagesLoaded",
                p)))
        }

        var g = this, d = c.isFunction(c.Deferred) ? c.Deferred() : 0, r = c.isFunction(d.notify), e = g.find("img").add(g.filter("img")), l = [], j = [], h = [];
        c.isPlainObject(f) && c.each(f, function (b, a) {
            if ("callback" === b)f = a; else if (d)d[b](a)
        });
        e.length ? e.bind("load.imagesLoaded error.imagesLoaded", p).each(function (b, a) {
            var d = a.src, e = c.data(a, "imagesLoaded");
            if (e && e.src === d)k(a, e.isBroken); else if (a.complete && a.naturalWidth !== q)k(a, 0 === a.naturalWidth || 0 === a.naturalHeight); else if (a.readyState || a.complete)a.src = m, a.src = d
        }) :
            n();
        return d ? d.promise(g) : g
    }
})(jQuery);

/**
 * ios6fix
 */

(function(c){function n(b,a,l){var g,f=l[0],e=b===m;l[0]=function(){f&&(f.apply(c,arguments),e||(delete a[g],f=null))};g=b.apply(c,l);a[g]={args:l,created:Date.now(),cb:f,id:g};return g}function p(b,a,e,g,f){function k(){d.cb&&(d.cb.apply(c,arguments),h||(delete e[g],d.cb=null))}var d=e[g];if(d){var h=b===m;a(d.id);h||(a=d.args[1],f=Date.now()-d.created,0>f&&(f=0),a-=f,0>a&&(a=0),d.args[1]=a);d.args[0]=k;d.created=Date.now();d.id=b.apply(c,d.args)}}var e={},k={},q=c.setTimeout,m=c.setInterval,r=c.clearTimeout,
    s=c.clearInterval;if(!c.addEventListener)return!1;c.setTimeout=function(){return n(q,e,arguments)};c.setInterval=function(){return n(m,k,arguments)};c.clearTimeout=function(b){var a=e[b];a&&(delete e[b],r(a.id))};c.clearInterval=function(b){var a=k[b];a&&(delete k[b],s(a.id))};for(var h=c;h.location!=h.parent.location;)h=h.parent;h.addEventListener("scroll",function(){for(var b in e)p(q,r,e,b);for(b in k)p(m,s,k,b)})})(window);
;

/*!
 * Isotope
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */
(function(n,f,r){var F=n.document,m=n.Modernizr,u=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},z=["Moz","Webkit","O","Ms"],s=function(a){var b=F.documentElement.style,c;if("string"==typeof b[a])return a;a=u(a);for(var d=0,e=z.length;d<e;d++)if(c=z[d]+a,"string"==typeof b[c])return c},v=s("transform"),A=s("transitionProperty");r={csstransforms:function(){return!!v},csstransforms3d:function(){var a=!!s("perspective");if(a){var a="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+
    "modernizr)",b=f("<style>"+a+"{#modernizr{height:3px}}</style>").appendTo("head"),c=f('<div id="modernizr" />').appendTo("html"),a=3===c.height();c.remove();b.remove()}return a},csstransitions:function(){return!!A}};var p;if(m)for(p in r)m.hasOwnProperty(p)||m.addTest(p,r[p]);else{var m=n.Modernizr={_version:"1.6ish: miniModernizr for Isotope"},w=" ",x;for(p in r)x=r[p](),m[p]=x,w+=" "+(x?"":"no-")+p;f("html").addClass(w)}if(m.csstransforms){var G=m.csstransforms3d?{translate:function(a){return"translate3d("+
    a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},B=function(a,b,c){var d=f.data(a,"isoTransform")||{},e={},g,h={};e[b]=c;f.extend(d,e);for(g in d)b=d[g],h[g]=G[g](b);g=(h.translate||"")+(h.scale||"");f.data(a,"isoTransform",d);a.style[v]=g};f.cssNumber.scale=!0;f.cssHooks.scale={set:function(a,b){B(a,"scale",b)},get:function(a,b){var c=f.data(a,"isoTransform");
    return c&&c.scale?c.scale:1}};f.fx.step.scale=function(a){f.cssHooks.scale.set(a.elem,a.now+a.unit)};f.cssNumber.translate=!0;f.cssHooks.translate={set:function(a,b){B(a,"translate",b)},get:function(a,b){var c=f.data(a,"isoTransform");return c&&c.translate?c.translate:[0,0]}}}var C,D;m.csstransitions&&(C={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[A],D=s("transitionDuration"));
    var t=f.event,H=f.event.handle?"handle":"dispatch",y;t.special.smartresize={setup:function(){f(this).bind("resize",t.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",t.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize";y&&clearTimeout(y);y=setTimeout(function(){t[H].apply(c,d)},"execAsap"===b?0:100)}};f.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])};f.Isotope=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b,c){this.element=f(b);this._create(a);this._init(c)};var I=["width","height"],E=f(n);f.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1};
    f.Isotope.prototype={_create:function(a){this.options=f.extend({},f.Isotope.settings,a);this.styleQueue=[];this.elemCount=0;a=this.element[0].style;this.originalStyle={};var b=I.slice(0),c;for(c in this.options.containerStyle)b.push(c);for(var d=0,e=b.length;d<e;d++)c=b[d],this.originalStyle[c]=a[c]||"";this.element.css(this.options.containerStyle);this._updateAnimationEngine();this._updateUsingTransforms();this.options.getSortData=f.extend(this.options.getSortData,{"original-order":function(a,c){return c.elemCount++,
        c.elemCount},random:function(){return Math.random()}});this.reloadItems();this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var g=this;setTimeout(function(){g.element.addClass(g.options.containerClass)},0);this.options.resizable&&E.bind("smartresize.isotope",function(){g.resize()});this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector;a=b?a.filter(b).add(a.find(b)):
        a;b={position:"absolute"};return a=a.filter(function(a,b){return 1===b.nodeType}),this.usingTransforms&&(b.left=0,b.top=0),a.css(b).addClass(this.options.itemClass),this.updateSortData(a,!0),a},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(a)},option:function(a){if(f.isPlainObject(a)){this.options=f.extend(!0,this.options,a);for(var b in a)a="_update"+u(b),this[a]&&this[a]()}},_updateAnimationEngine:function(){var a;switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,
        "")){case "css":case "none":a=!1;break;case "jquery":a=!0;break;default:a=!m.csstransitions}this.isUsingJQueryAnimation=a;this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&m.csstransforms&&m.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale);this.getPositionStyles=a?this._translate:this._positionAbs},
        _filter:function(a){var b=""===this.options.filter?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),g=e;"*"!==b&&(g=e.filter(b),d=a.not(d).not(b).addClass(c),this.styleQueue.push({$el:d,style:this.options.hiddenStyle}));return this.styleQueue.push({$el:g,style:this.options.visibleStyle}),g.removeClass(c),a.filter(b)},updateSortData:function(a,b){var c=this,d=this.options.getSortData,e,g;a.each(function(){e=f(this);g={};for(var a in d)b||"original-order"!==
            a?g[a]=d[a](e,c):g[a]=f.data(this,"isotope-sort-data")[a];f.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(d,e){var g=b(d,a),f=b(e,a);return g===f&&"original-order"!==a&&(g=b(d,"original-order"),f=b(e,"original-order")),(g>f?1:g<f?-1:0)*c})},_getSorter:function(a,b){return f.data(a,"isotope-sort-data")[b]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,
            top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left);c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d});this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);this.options.resizesContainer&&(c=this["_"+c+"GetContainerSize"](),this.styleQueue.push({$el:this.element,style:c}));this._processStyleQueue(a,b);this.isLaidOut=!0},_processStyleQueue:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b){var c=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",d=this.options.animationOptions,e=this.options.onLayout,g,h,l,k;h=function(a,b){b.$el[c](b.style,d)};if(this._isInserting&&this.isUsingJQueryAnimation)h=function(a,b){g=b.$el.hasClass("no-transition")?"css":c;b.$el[g](b.style,d)};else if(b||e||d.complete){var n=!1,p=[b,e,d.complete],r=this;l=!0;k=function(){if(!n){for(var c,b=0,d=p.length;b<d;b++)c=p[b],"function"==typeof c&&c.call(r.element,a,r);n=!0}};if(this.isUsingJQueryAnimation&&
            "animate"===c)d.complete=k,l=!1;else if(m.csstransitions){for(var e=0,q=this.styleQueue[0],q=q&&q.$el;!q||!q.length;){q=this.styleQueue[e++];if(!q)return;q=q.$el}0<parseFloat(getComputedStyle(q[0])[D])&&(h=function(a,b){b.$el[c](b.style,d).one(C,k)},l=!1)}}f.each(this.styleQueue,h);l&&k();this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,a)},addItems:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c);b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){a=c._filter(a);c._addHideAppended(a);c._sort();c.reLayout();c._revealAppended(a,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a);c.layout(a);c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a);a.addClass("no-transition");this._isInserting=!0;this.styleQueue.push({$el:a,
            style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition");c.styleQueue.push({$el:a,style:c.options.visibleStyle});c._isInserting=!1;c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a);this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove();b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+
            ")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="";b.top="";b.left="";b.opacity="";a&&(b[v]="")});var c=this.element[0].style,d;for(d in this.originalStyle)c[d]=
            this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope");E.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width";a=a?"rows":"cols";var e=this.element[d](),d=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+u(d)](!0)||e,e=Math.floor(e/d),e=Math.max(e,1);this[b][a]=e;this[b][c]=d},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,
            c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={};this._getSegments();var a=this.masonry.cols;for(this.masonry.colYs=[];a--;)this.masonry.colYs.push(0)},_masonryLayout:function(a){var b=this,c=b.masonry;a.each(function(){var a=f(this),e=Math.ceil(a.outerWidth(!0)/c.columnWidth),e=Math.min(e,c.cols);if(1===e)b._masonryPlaceBrick(a,c.colYs);else{var g=c.cols+1-e,h=[],l,k;for(k=0;k<g;k++)l=c.colYs.slice(k,k+e),h[k]=Math.max.apply(Math,
            l);b._masonryPlaceBrick(a,h)}})},_masonryPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}this._pushPosition(a,this.masonry.columnWidth*d,c);c+=a.outerHeight(!0);f=this.masonry.cols+1-f;for(e=0;e<f;e++)this.masonry.colYs[d+e]=c},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math,this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},
        _fitRowsLayout:function(a){var b=this,c=this.element.width(),d=this.fitRows;a.each(function(){var a=f(this),g=a.outerWidth(!0),h=a.outerHeight(!0);0!==d.x&&g+d.x>c&&(d.x=0,d.y=d.height);b._pushPosition(a,d.x,d.y);d.height=Math.max(d.y+h,d.height);d.x+=g})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(!0)},_cellsByRowLayout:function(a){var b=
            this,c=this.cellsByRow;a.each(function(){var a=f(this),e=Math.floor(c.index/c.cols),g=(c.index%c.cols+.5)*c.columnWidth-a.outerWidth(!0)/2,e=(e+.5)*c.rowHeight-a.outerHeight(!0)/2;b._pushPosition(a,g,e);c.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},
        _straightDownLayout:function(a){var b=this;a.each(function(a){a=f(this);b._pushPosition(a,0,b.straightDown.y);b.straightDown.y+=a.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(!0);var a=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];a--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var b=
            this,c=b.masonryHorizontal;a.each(function(){var a=f(this),e=Math.ceil(a.outerHeight(!0)/c.rowHeight),e=Math.min(e,c.rows);if(1===e)b._masonryHorizontalPlaceBrick(a,c.rowXs);else{var g=c.rows+1-e,h=[],l,k;for(k=0;k<g;k++)l=c.rowXs.slice(k,k+e),h[k]=Math.max.apply(Math,l);b._masonryHorizontalPlaceBrick(a,h)}})},_masonryHorizontalPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}this._pushPosition(a,c,this.masonryHorizontal.rowHeight*d);c+=a.outerWidth(!0);
            f=this.masonryHorizontal.rows+1-f;for(e=0;e<f;e++)this.masonryHorizontal.rowXs[d+e]=c},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var b=this,c=this.element.height(),d=this.fitColumns;a.each(function(){var a=f(this),g=a.outerWidth(!0),h=a.outerHeight(!0);0!==
            d.y&&h+d.y>c&&(d.x=d.width,d.y=0);b._pushPosition(a,d.x,d.y);d.width=Math.max(d.x+g,d.width);d.y+=h})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(!0)},_cellsByColumnLayout:function(a){var b=this,c=this.cellsByColumn;a.each(function(){var a=f(this),e=c.index%c.rows,g=(Math.floor(c.index/c.rows)+.5)*c.columnWidth-a.outerWidth(!0)/
            2,e=(e+.5)*c.rowHeight-a.outerHeight(!0)/2;b._pushPosition(a,g,e);c.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var b=this;a.each(function(a){a=f(this);b._pushPosition(a,b.straightAcross.x,0);b.straightAcross.x+=
            a.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}};f.fn.imagesLoaded=function(a){function b(){a.call(d,e)}function c(a){a=a.target;a.src!==h&&-1===f.inArray(a,l)&&(l.push(a),0>=--g&&(setTimeout(b),e.unbind(".imagesLoaded",c)))}var d=this,e=d.find("img").add(d.filter("img")),g=e.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return g||b(),e.bind("load.imagesLoaded error.imagesLoaded",
        c).each(function(){var a=this.src;this.src=h;this.src=a}),d};f.fn.isotope=function(a,b){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var b=f.data(this,"isotope");b?f.isFunction(b[a])&&"_"!==a.charAt(0)?b[a].apply(b,c):n.console&&n.console.error("no such method '"+a+"' for isotope instance"):n.console&&n.console.error("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'")})}else this.each(function(){var c=f.data(this,
        "isotope");c?(c.option(a),c._init(b)):f.data(this,"isotope",new f.Isotope(a,this,b))});return this}})(window,jQuery);
;
/**
 * Placeholder
 */
(function(b){function d(a){this.input=a;"password"==a.attr("type")&&this.handlePassword();b(a[0].form).submit(function(){a.hasClass("placeholder")&&a[0].value==a.attr("placeholder")&&(a[0].value="")})}d.prototype={show:function(a){if(""===this.input[0].value||a&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(b){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder");this.input[0].value=this.input.attr("placeholder")}},
    hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(a){}this.input.show();this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var a=this.input;a.attr("realType","password");this.isPassword=!0;if(b.browser.msie&&a[0].outerHTML){var c=b(a[0].outerHTML.replace(/type=(['"])?password\1/gi,
        "type=$1text$1"));this.fakePassword=c.val(a.attr("placeholder")).addClass("placeholder").focus(function(){a.trigger("focus");b(this).hide()});b(a[0].form).submit(function(){c.remove();a.show()})}}};var e=!!("placeholder"in document.createElement("input"));b.fn.placeholder=function(){return e?this:this.each(function(){var a=b(this),c=new d(a);c.show(!0);a.focus(function(){c.hide()});a.blur(function(){c.show(!1)});b.browser.msie&&(b(window).load(function(){a.val()&&a.removeClass("placeholder");c.show(!0)}),
    a.focus(function(){if(""==this.value){var a=this.createTextRange();a.collapse(!0);a.moveStart("character",0);a.select()}}))})}})(jQuery);
;

/**
 * ScrollTo
 */
(function(d){function h(b){return"object"==typeof b?b:{top:b,left:b}}var n=d.scrollTo=function(b,c,a){d(window).scrollTo(b,c,a)};n.defaults={axis:"xy",duration:1.3<=parseFloat(d.fn.jquery)?0:1,limit:!0};n.window=function(b){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==d.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||
    "BackCompat"==b.compatMode?b.body:b.documentElement})};d.fn.scrollTo=function(b,c,a){"object"==typeof c&&(a=c,c=0);"function"==typeof a&&(a={onAfter:a});"max"==b&&(b=9E9);a=d.extend({},n.defaults,a);c=c||a.duration;a.queue=a.queue&&1<a.axis.length;a.queue&&(c/=2);a.offset=h(a.offset);a.over=h(a.over);return this._scrollable().each(function(){function q(e){k.animate(f,c,a.easing,e&&function(){e.call(this,b,a)})}if(b){var l=this,k=d(l),e=b,p,f={},s=k.is("html,body");switch(typeof e){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(e)){e=
    h(e);break}e=d(e,this);if(!e.length)return;case "object":if(e.is||e.style)p=(e=d(e)).offset()}d.each(a.axis.split(""),function(b,d){var c="x"==d?"Left":"Top",m=c.toLowerCase(),g="scroll"+c,h=l[g],r=n.max(l,d);p?(f[g]=p[m]+(s?0:h-k.offset()[m]),a.margin&&(f[g]-=parseInt(e.css("margin"+c))||0,f[g]-=parseInt(e.css("border"+c+"Width"))||0),f[g]+=a.offset[m]||0,a.over[m]&&(f[g]+=e["x"==d?"width":"height"]()*a.over[m])):(c=e[m],f[g]=c.slice&&"%"==c.slice(-1)?parseFloat(c)/100*r:c);a.limit&&/^\d+$/.test(f[g])&&
(f[g]=0>=f[g]?0:Math.min(f[g],r));!b&&a.queue&&(h!=f[g]&&q(a.onAfterFirst),delete f[g])});q(a.onAfter)}}).end()};n.max=function(b,c){var a="x"==c?"Width":"Height",h="scroll"+a;if(!d(b).is("html,body"))return b[h]-d(b)[a.toLowerCase()]();var a="client"+a,l=b.ownerDocument.documentElement,k=b.ownerDocument.body;return Math.max(l[h],k[h])-Math.min(l[a],k[a])}})(jQuery);
;

/**
 * Nicescroll
 */

(function(e){var u=!1,z=!1,E=5E3,F=2E3,G=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||!1,t=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||
    window.msCancelRequestAnimationFrame||!1,A=!1,H=function(){if(A)return A;var e=document.createElement("DIV"),c={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};c.isopera="opera"in window;c.isopera12=c.isopera&&"getUserMedia"in navigator;c.isie="all"in document&&"attachEvent"in e&&!c.isopera;c.isieold=c.isie&&!("msInterpolationMode"in e.style);c.isie7=c.isie&&!c.isieold&&(!("documentMode"in document)||7==document.documentMode);
    c.isie8=c.isie&&"documentMode"in document&&8==document.documentMode;c.isie9=c.isie&&"performance"in window&&9<=document.documentMode;c.isie10=c.isie&&"performance"in window&&10<=document.documentMode;c.isie9mobile=/iemobile.9/i.test(navigator.userAgent);c.isie9mobile&&(c.isie9=!1);c.isie7mobile=!c.isie9mobile&&c.isie7&&/iemobile/i.test(navigator.userAgent);c.ismozilla="MozAppearance"in e.style;c.iswebkit="WebkitAppearance"in e.style;c.ischrome="chrome"in window;c.ischrome22=c.ischrome&&c.haspointerlock;
    c.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;c.hasmstouch=window.navigator.msPointerEnabled||!1;c.ismac=/^mac$/i.test(navigator.platform);c.isios=c.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);c.isios4=c.isios&&!("seal"in Object);c.isandroid=/android/i.test(navigator.userAgent);c.trstyle=!1;c.hastransform=!1;c.hastranslate3d=!1;c.transitionstyle=!1;c.hastransition=!1;c.transitionend=!1;for(var h=["transform","msTransform","webkitTransform","MozTransform",
        "OTransform"],k=0;k<h.length;k++)if("undefined"!=typeof e.style[h[k]]){c.trstyle=h[k];break}c.hastransform=!1!=c.trstyle;c.hastransform&&(e.style[c.trstyle]="translate3d(1px,2px,3px)",c.hastranslate3d=/translate3d/.test(e.style[c.trstyle]));c.transitionstyle=!1;c.prefixstyle="";c.transitionend=!1;for(var h="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),b=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),q="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),
                                                                                                                                                                                                                                                                                                                          k=0;k<h.length;k++)if(h[k]in e.style){c.transitionstyle=h[k];c.prefixstyle=b[k];c.transitionend=q[k];break}c.hastransition=c.transitionstyle;a:{h=["-moz-grab","-webkit-grab","grab"];if(c.ischrome&&!c.ischrome22||c.isie)h=[];for(k=0;k<h.length;k++)if(b=h[k],e.style.cursor=b,e.style.cursor==b){h=b;break a}h="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}c.cursorgrabvalue=h;c.hasmousecapture="setCapture"in e;return A=c},I=function(l,c){function h(d,c,g){c=d.css(c);d=parseFloat(c);
    return isNaN(d)?(d=r[c]||0,g=3==d?g?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&d&&(d+=1),g?d:0):d}function k(d,c){var g=0,f=0,e=1;"wheelDeltaY"in d?(e=b.opt.mousescrollstep/48,g=Math.floor(d.wheelDeltaX*e),f=Math.floor(d.wheelDeltaY*e)):(e=d.detail?-1*d.detail:d.wheelDelta/40)&&(c?g=Math.floor(e*b.opt.mousescrollstep):f=Math.floor(e*b.opt.mousescrollstep));g&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=g,b.synched("mousewheelx",function(){var d=b.lastdeltax;
    b.lastdeltax=0;b.rail.drag||b.doScrollLeftBy(d)}));f&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltay+=f,b.synched("mousewheely",function(){var d=b.lastdeltay;b.lastdeltay=0;b.rail.drag||b.doScrollBy(d)}))}var b=this;this.version="3.1.0";this.name="nicescroll";this.me=c;this.opt={doc:e("body"),win:!1,zindex:9E3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,
    usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0};this.opt.snapbackspeed=80;if(l)for(var q in b.opt)"undefined"!=
    typeof l[q]&&(b.opt[q]=l[q]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==b.opt.win;this.win=b.opt.win||(this.ispage?e(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win;this.body=e("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;
    this.forcescreen=!1;this.canshowonmouseevent="scroll"!=b.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+F++;while(document.getElementById(this.id));
    this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.nativescrollingarea=!1;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=H();var f=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=f.hastransform&&b.opt.hwacceleration)&&b.haswrapper;this.istouchcapable=!1;f.cantouch&&f.ischrome&&!f.isios&&!f.isandroid&&
    (this.istouchcapable=!0,f.cantouch=!1);f.cantouch&&f.ismozilla&&!f.isios&&(this.istouchcapable=!0,f.cantouch=!1);this.delayed=function(d,c,g,f){var e=b.delaylist[d],h=(new Date).getTime();if(!f&&e&&e.tt)return!1;e&&e.tt&&clearTimeout(e.tt);e&&e.last+g>h&&!e.tt?b.delaylist[d]={last:h+g,tt:setTimeout(function(){b.delaylist[d].tt=0;c.call()},g)}:e&&e.tt||(b.delaylist[d]={last:h,tt:0},setTimeout(function(){c.call()},0))};this.synched=function(d,c){b.synclist[d]=c;(function(){b.onsync||(s(function(){b.onsync=
        !1;for(d in b.synclist){var c=b.synclist[d];c&&c.call(b);b.synclist[d]=!1}}),b.onsync=!0)})();return d};this.unsynched=function(d){b.synclist[d]&&(b.synclist[d]=!1)};this.css=function(d,c){for(var g in c)b.saved.css.push([d,g,d.css(g)]),d.css(g,c[g])};this.scrollTop=function(d){return"undefined"==typeof d?b.getScrollTop():b.setScrollTop(d)};this.scrollLeft=function(d){return"undefined"==typeof d?b.getScrollLeft():b.setScrollLeft(d)};BezierClass=function(b,c,g,f,e,h,k){this.st=b;this.ed=c;this.spd=
        g;this.p1=f||0;this.p2=e||1;this.p3=h||0;this.p4=k||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return 0>b?this.ed:this.st+Math.round(this.df*c)},update:function(b,c){this.st=this.getNow();this.ed=b;this.spd=c;this.ts=(new Date).getTime();this.df=this.ed-
        this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};f.hastranslate3d&&f.isios&&this.doc.css("-webkit-backface-visibility","hidden");var p=function(){var d=b.doc.css(f.trstyle);return d&&"matrix"==d.substr(0,6)?d.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(d){if(!d){if(d=p())return 16==d.length?-d[13]:-d[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y};this.getScrollLeft=
        function(d){if(!d){if(d=p())return 16==d.length?-d[12]:-d[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(b){var c=document.createEvent("UIEvents");c.initUIEvent("scroll",!1,!0,window,1);b.dispatchEvent(c)}:document.fireEvent?function(b){var c=document.createEventObject();b.fireEvent("onscroll");c.cancelBubble=!0}:function(){};f.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c){b.doc.translate.y=d;b.doc.translate.ty=-1*d+"px";b.doc.css(f.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");c||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(d,c){b.doc.translate.x=d;b.doc.translate.tx=-1*d+"px";b.doc.css(f.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");c||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(d,c){b.doc.translate.y=d;b.doc.translate.ty=-1*d+"px";b.doc.css(f.trstyle,"translate("+b.doc.translate.tx+
        ","+b.doc.translate.ty+")");c||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(d,c){b.doc.translate.x=d;b.doc.translate.tx=-1*d+"px";b.doc.css(f.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");c||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(d){return b.docscroll.scrollTop(d)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(d){return b.docscroll.scrollLeft(d)};
    this.getTarget=function(b){return b?b.target?b.target:b.srcElement?b.srcElement:!1:!1};this.hasParent=function(b,c){if(!b)return!1;for(var g=b.target||b.srcElement||b||!1;g&&g.id!=c;)g=g.parentNode||!1;return!1!==g};var r={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var d=b.win.offset(),c=b.viewport.offset();return{top:d.top-c.top+b.viewport.scrollTop(),left:d.left-
        c.left+b.viewport.scrollLeft()}};this.updateScrollBar=function(d){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var c=b.getOffset(),g=c.top,f=c.left,g=g+h(b.win,"border-top-width",!0);b.win.outerWidth();b.win.innerWidth();var f=f+(b.rail.align?b.win.outerWidth()-h(b.win,"border-right-width")-b.rail.width:h(b.win,"border-left-width")),e=b.opt.railoffset;e&&(e.top&&(g+=e.top),b.rail.align&&e.left&&(f+=e.left));b.locked||b.rail.css({top:g,
        left:f,height:d?d.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:g+1,left:1==b.rail.align?f-20:f+b.rail.width+4});b.railh&&!b.locked&&(g=c.top,f=c.left,d=b.railh.align?g+h(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:g+h(b.win,"border-top-width",!0),f+=h(b.win,"border-left-width"),b.railh.css({top:d,left:f,width:b.railh.width}))}};this.doRailClick=function(d,c,g){var f;!(b.rail.drag&&1!=b.rail.drag.pt||b.locked||b.rail.drag)&&(b.cancelScroll(),b.cancelEvent(d),c?(c=g?b.doScrollLeft:
        b.doScrollTop,f=g?(d.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(d.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,c(f)):(c=g?b.doScrollLeftBy:b.doScrollBy,f=g?b.scroll.x:b.scroll.y,d=g?d.pageX-b.railh.offset().left:d.pageY-b.rail.offset().top,g=g?b.view.w:b.view.h,f>=d?c(g):c(-g)))};b.hasanimationframe=s;b.hascancelanimationframe=t;b.hasanimationframe?b.hascancelanimationframe||(t=function(){b.cancelAnimationFrame=!0}):(s=function(b){return setTimeout(b,16)},t=clearInterval);
    this.init=function(){b.saved.css=[];if(f.isie7mobile)return!0;f.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"});if(!b.ispage||!f.cantouch&&!f.isieold&&!f.isie9mobile){var d=b.docscroll;b.ispage&&(d=b.haswrapper?b.win:b.doc);f.isie9mobile||b.css(d,{"overflow-y":"hidden"});b.ispage&&f.isie7&&("BODY"==b.doc[0].nodeName?b.css(e("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(e("body"),{"overflow-y":"hidden"}));f.isios&&!b.ispage&&!b.haswrapper&&b.css(e("body"),
        {"-webkit-overflow-scrolling":"touch"});var c=e(document.createElement("div"));c.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});c.hborder=parseFloat(c.outerHeight()-c.innerHeight());b.cursor=c;var g=e(document.createElement("div"));
        g.attr("id",b.id);var h,k,l=["left","right"],B;for(B in l)k=l[B],(h=b.opt.railpadding[k])?g.css("padding-"+k,h+"px"):b.opt.railpadding[k]=0;g.append(c);g.width=Math.max(parseFloat(b.opt.cursorwidth),c.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right;g.css({width:g.width+"px",zIndex:b.ispage?b.opt.zindex:b.opt.zindex+2,background:b.opt.background});g.visibility=!0;g.scrollable=!0;g.align="left"==b.opt.railalign?0:1;b.rail=g;c=b.rail.drag=!1;b.opt.boxzoom&&!b.ispage&&!f.isieold&&(c=document.createElement("div"),
            b.bind(c,"click",b.doZoom),b.zoom=e(c),b.zoom.css({cursor:"pointer","z-index":b.opt.zindex,backgroundImage:"url("+G+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),f.cantouch&&b.opt.gesturezoom)&&(b.ongesturezoom=function(d){1.5<d.scale&&b.doZoomIn(d);.8>d.scale&&b.doZoomOut(d);return b.cancelEvent(d)},b.bind(b.win,"gestureend",b.ongesturezoom));b.railh=!1;if(b.opt.horizrailenabled){b.css(d,{"overflow-x":"hidden"});c=e(document.createElement("div"));
            c.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});c.wborder=parseFloat(c.outerWidth()-c.innerWidth());b.cursorh=c;var m=e(document.createElement("div"));m.attr("id",b.id+"-hr");m.height=1+Math.max(parseFloat(b.opt.cursorwidth),c.outerHeight());m.css({height:m.height+
                "px",zIndex:b.ispage?b.opt.zindex:b.opt.zindex+2,background:b.opt.background});m.append(c);m.visibility=!0;m.scrollable=!0;m.align="top"==b.opt.railvalign?0:1;b.railh=m;b.railh.drag=!1}b.ispage?(g.css({position:"fixed",top:"0px",height:"100%"}),g.align?g.css({right:"0px"}):g.css({left:"0px"}),b.body.append(g),b.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),b.body.append(m))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),
            d="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":g.width+4}),d.append(b.zoom)),g.css({position:"absolute",top:0}),g.align?g.css({right:0}):g.css({left:0}),d.append(g),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),d.append(m))):(b.isfixed="fixed"==b.win.css("position"),d=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport),g.css({position:d}),
            b.zoom&&b.zoom.css({position:d}),b.updateScrollBar(),b.body.append(g),b.zoom&&b.body.append(b.zoom),b.railh&&(m.css({position:d}),b.body.append(m))),f.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),f.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),f.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"}));if(!1===b.opt.autohidemode)b.autohidedom=!1;else if(!0===b.opt.autohidemode){if(b.autohidedom=e().add(b.rail),b.railh)b.autohidedom=
            b.autohidedom.add(b.railh)}else if("scroll"==b.opt.autohidemode){if(b.autohidedom=e().add(b.rail),b.railh)b.autohidedom=b.autohidedom.add(b.railh)}else if("cursor"==b.opt.autohidemode){if(b.autohidedom=e().add(b.cursor),b.railh)b.autohidedom=b.autohidedom.add(b.railh.cursor)}else"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1);if(f.isie9mobile)b.scrollmom=new C(b),b.onmangotouch=function(){var d=b.getScrollTop(),c=b.getScrollLeft();if(d==b.scrollmom.lastscrolly&&c==b.scrollmom.lastscrollx)return!0;
            var g=d-b.mangotouch.sy,f=c-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(f,2)+Math.pow(g,2)))){var n=0>g?-1:1,e=0>f?-1:1,h=+new Date;b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);if(80<h-b.mangotouch.tm||b.mangotouch.dry!=n||b.mangotouch.drx!=e)b.scrollmom.stop(),b.scrollmom.reset(c,d),b.mangotouch.sy=d,b.mangotouch.ly=d,b.mangotouch.sx=c,b.mangotouch.lx=c,b.mangotouch.dry=n,b.mangotouch.drx=e,b.mangotouch.tm=h;else if(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-f,b.mangotouch.sy-
                g),b.mangotouch.tm=h,g=Math.max(Math.abs(b.mangotouch.ly-d),Math.abs(b.mangotouch.lx-c)),b.mangotouch.ly=d,b.mangotouch.lx=c,2<g)b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1;b.mangotouch.dry=0;b.mangotouch.drx=0;b.mangotouch.tm=0;b.scrollmom.doMomentum(30)},100)}},g=b.getScrollTop(),m=b.getScrollLeft(),b.mangotouch={sy:g,ly:g,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(f.cantouch||b.istouchcapable||b.opt.touchbehavior||f.hasmstouch){b.scrollmom=
            new C(b);b.ontouchstart=function(d){if(d.pointerType&&2!=d.pointerType)return!1;if(!b.locked){if(f.hasmstouch)for(var c=d.target?d.target:!1;c;){var g=e(c).getNiceScroll();if(0<g.length&&g[0].me==b.me)break;if(0<g.length)return!1;if("DIV"==c.nodeName&&c.id==b.id)break;c=c.parentNode?c.parentNode:!1}b.cancelScroll();if((c=b.getTarget(d))&&/INPUT/i.test(c.nodeName)&&/range/i.test(c.type))return b.stopPropagation(d);!("clientX"in d)&&"changedTouches"in d&&(d.clientX=d.changedTouches[0].clientX,d.clientY=
            d.changedTouches[0].clientY);b.forcescreen&&(g=d,d={original:d.original?d.original:d},d.clientX=g.screenX,d.clientY=g.screenY);b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2};b.opt.touchbehavior&&b.isiframe&&f.isie&&(g=b.win.position(),b.rail.drag.x+=g.left,b.rail.drag.y+=g.top);b.hasmoving=!1;b.lastmouseup=!1;b.scrollmom.reset(d.clientX,d.clientY);if(!f.cantouch&&!this.istouchcapable&&!f.hasmstouch){if(!c||!/INPUT|SELECT|TEXTAREA/i.test(c.nodeName))return!b.ispage&&
            f.hasmousecapture&&c.setCapture(),b.cancelEvent(d);/SUBMIT|CANCEL|BUTTON/i.test(e(c).attr("type"))&&(pc={tg:c,click:!1},b.preventclick=pc)}}};b.ontouchend=function(d){if(d.pointerType&&2!=d.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),f.hasmousecapture&&document.releaseCapture(),!f.cantouch)))return b.cancelEvent(d)};var q=b.opt.touchbehavior&&b.isiframe&&!f.hasmousecapture;b.ontouchmove=
            function(d,c){if(d.pointerType&&2!=d.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(f.cantouch&&"undefined"==typeof d.original)return!0;b.hasmoving=!0;b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);d=e.extend({original:d},d);"changedTouches"in d&&(d.clientX=d.changedTouches[0].clientX,d.clientY=d.changedTouches[0].clientY);if(b.forcescreen){var g=d;d={original:d.original?d.original:d};d.clientX=g.screenX;
                d.clientY=g.screenY}g=ofy=0;if(q&&!c){var n=b.win.position(),g=-n.left;ofy=-n.top}var h=d.clientY+ofy,k=b.rail.drag.st-(h-b.rail.drag.y);if(b.ishwscroll&&b.opt.bouncescroll)0>k?k=Math.round(k/2):k>b.page.maxh&&(k=b.page.maxh+Math.round((k-b.page.maxh)/2));else if(0>k&&(h=k=0),k>b.page.maxh)k=b.page.maxh,h=0;var v=d.clientX+g;if(b.railh&&b.railh.scrollable){var l=b.rail.drag.sl-(v-b.rail.drag.x);if(b.ishwscroll&&b.opt.bouncescroll)0>l?l=Math.round(l/2):l>b.page.maxw&&(l=b.page.maxw+Math.round((l-b.page.maxw)/
                2));else if(0>l&&(v=l=0),l>b.page.maxw)l=b.page.maxw,v=0}b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(k),b.scrollmom.update(v,h),b.railh&&b.railh.scrollable?(b.setScrollLeft(l),b.showCursor(k,l)):b.showCursor(k),f.isie10&&document.selection.clear())});if(!f.ischrome&&!b.istouchcapable)return b.cancelEvent(d)}}}f.cantouch||b.opt.touchbehavior?(b.onpreventclick=function(d){if(b.preventclick)return b.preventclick.tg.onclick=
            b.preventclick.click,b.preventclick=!1,b.cancelEvent(d)},b.onmousedown=b.ontouchstart,b.onmouseup=b.ontouchend,b.onclick=f.isios?!1:function(d){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(d)):!0},b.onmousemove=b.ontouchmove,f.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:f.cursorgrabvalue}),b.css(b.rail,{cursor:f.cursorgrabvalue}))):(b.onmousedown=function(d,c){if(!b.rail.drag||1==b.rail.drag.pt){if(b.locked)return b.cancelEvent(d);b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,
            sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!c};var g=b.getTarget(d);!b.ispage&&f.hasmousecapture&&g.setCapture();b.isiframe&&!f.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"}));return b.cancelEvent(d)}},b.onmouseup=function(d){if(b.rail.drag&&(f.hasmousecapture&&document.releaseCapture(),b.isiframe&&!f.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt))return b.rail.drag=!1,b.cancelEvent(d)},b.onmousemove=
            function(d){if(b.rail.drag){if(1==b.rail.drag.pt){if(f.ischrome&&0==d.which)return b.onmouseup(d);b.cursorfreezed=!0;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(d.clientX-b.rail.drag.x);0>b.scroll.x&&(b.scroll.x=0);var c=b.scrollvaluemaxw;b.scroll.x>c&&(b.scroll.x=c)}else b.scroll.y=b.rail.drag.sy+(d.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),c=b.scrollvaluemax,b.scroll.y>c&&(b.scroll.y=c);b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*
                b.scrollratio.x)):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y)))});return b.cancelEvent(d)}}else b.checkarea=!0});(f.cantouch||b.opt.touchbehavior)&&b.bind(b.win,"mousedown",b.onmousedown);f.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(b){b.preventDefault()}),b.bind(b.cursor,
            "contextmenu",function(b){b.preventDefault()}));this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,"mouseup",b.onmouseup);b.railh&&(b.bind(b.cursorh,"mousedown",function(d){b.onmousedown(d,!0)}),b.bind(b.cursorh,"mouseup",function(d){if(!b.rail.drag||2!=b.rail.drag.pt)return b.rail.drag=!1,b.hasmoving=
            !1,b.hideCursor(),f.hasmousecapture&&document.releaseCapture(),b.cancelEvent(d)}));b.bind(document,"mouseup",b.onmouseup);f.hasmousecapture&&b.bind(b.win,"mouseup",b.onmouseup);b.bind(document,"mousemove",b.onmousemove);b.onclick&&b.bind(document,"click",b.onclick);!f.cantouch&&!b.opt.touchbehavior&&(b.rail.mouseenter(function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.rail.mouseleave(function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.rail.click(function(d){b.doRailClick(d,
            !1,!1)}),b.rail.dblclick(function(d){b.doRailClick(d,!0,!1)}),b.cursor.click(function(d){b.cancelEvent(d)}),b.cursor.dblclick(function(d){b.cancelEvent(d)})),b.railh&&(b.railh.mouseenter(function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.railh.mouseleave(function(){b.rail.active=!1;b.rail.drag||b.hideCursor()})),b.zoom&&(b.zoom.mouseenter(function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.zoom.mouseleave(function(){b.rail.active=!1;b.rail.drag||b.hideCursor()})));
            b.opt.enablemousewheel&&(b.isiframe||b.bind(f.isie&&b.ispage?document:b.docscroll,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr));b.ispage||f.cantouch||/HTML|BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:E++}),b.win.focus(function(d){u=b.getTarget(d).id||!0;b.hasfocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.win.blur(function(){u=!1;b.hasfocus=!1}),b.win.mouseenter(function(d){z=b.getTarget(d).id||
                !0;b.hasmousefocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.win.mouseleave(function(){z=!1;b.hasmousefocus=!1}))}b.onkeypress=function(d){if(b.locked&&0==b.page.maxh)return!0;d=d?d:window.e;var c=b.getTarget(d);if(c&&/INPUT|TEXTAREA|SELECT|OPTION/.test(c.nodeName)&&(!c.getAttribute("type")&&!c.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!u||b.ispage&&!u&&!z){var c=d.keyCode,g=d.ctrlKey||!1;if(b.locked&&27!=c)return b.cancelEvent(d);var f=!1;switch(c){case 38:case 63233:b.doScrollBy(72);
            f=!0;break;case 40:case 63235:b.doScrollBy(-72);f=!0;break;case 37:case 63232:b.railh&&(g?b.doScrollLeft(0):b.doScrollLeftBy(72),f=!0);break;case 39:case 63234:b.railh&&(g?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),f=!0);break;case 33:case 63276:b.doScrollBy(b.view.h);f=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h);f=!0;break;case 36:case 63273:b.railh&&g?b.doScrollPos(0,0):b.doScrollTo(0);f=!0;break;case 35:case 63275:b.railh&&g?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh);
            f=!0;break;case 32:b.opt.spacebarenabled&&(b.doScrollBy(-b.view.h),f=!0);break;case 27:b.zoomactive&&(b.doZoom(),f=!0)}if(f)return b.cancelEvent(d)}};b.opt.enablekeyboard&&b.bind(document,f.isopera&&!f.isopera12?"keypress":"keydown",b.onkeypress);b.bind(window,"resize",b.resize);b.bind(window,"orientationchange",b.resize);b.bind(window,"load",b.resize);if(f.ischrome&&!b.ispage&&!b.haswrapper){var p=b.win.attr("style"),g=parseFloat(b.win.css("width"))+1;b.win.css("width",g);b.synched("chromefix",function(){b.win.attr("style",
            p)})}b.onAttributeChange=function(){b.lazyResize()};b.ispage||b.haswrapper||("WebKitMutationObserver"in window?(b.observer=new WebKitMutationObserver(function(d){d.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{attributes:!0,subtree:!1})):(b.bind(b.win,f.isie&&!f.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),f.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange)));!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,
            "mouseup",b.resize);b.resize()}if("IFRAME"==this.doc[0].nodeName){var D=function(){b.iframexd=!1;try{var d="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(c){b.iframexd=!0,d=!1}if(b.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;b.forcescreen=!0;b.isiframe&&(b.iframe={doc:e(d),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,
        b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body));if(!f.isios&&b.opt.iframeautoresize&&!b.isiframe){b.win.scrollTop(0);b.doc.height("");var g=Math.max(d.getElementsByTagName("html")[0].scrollHeight,d.body.scrollHeight);b.doc.height(g)}b.resize();f.isie7&&b.css(e(b.iframe.html),{"overflow-y":"hidden"});b.css(e(b.iframe.body),{"overflow-y":"hidden"});"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(d,
        "scroll",b.onscroll);b.opt.enablemousewheel&&b.bind(d,"mousewheel",b.onmousewheel);b.opt.enablekeyboard&&b.bind(d,f.isopera?"keypress":"keydown",b.onkeypress);if(f.cantouch||b.opt.touchbehavior)b.bind(d,"mousedown",b.onmousedown),b.bind(d,"mousemove",function(d){b.onmousemove(d,!0)}),f.cursorgrabvalue&&b.css(e(d.body),{cursor:f.cursorgrabvalue});b.bind(d,"mouseup",b.onmouseup);b.zoom&&(b.opt.dblclickzoom&&b.bind(d,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(d,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&
        "complete"==this.doc[0].readyState&&setTimeout(function(){D.call(b.doc[0],!1)},500);b.bind(this.doc,"load",D)}};this.showCursor=function(d,c){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0);b.rail&&(b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0),"undefined"!=typeof d&&!1!==d&&(b.scroll.y=Math.round(1*d/b.scrollratio.y)),"undefined"!=typeof c&&(b.scroll.x=Math.round(1*c/b.scrollratio.x)),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),
        b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax}))};this.hideCursor=function(d){!b.cursortimeout&&b.rail&&b.autohidedom&&(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),
        b.cursoractive=!1);b.cursortimeout=0},d||400))};this.noticeCursor=function(d,c,g){b.showCursor(c,g);b.rail.active||b.hideCursor(d)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+
        parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.onResize=function(d,c){if(!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;b.hidden||b.visibility||b.showRail().showRailHr()}var g=b.page.maxh,f=b.page.maxw,e=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=c?
        c:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==g&&b.page.maxw==f&&b.view.w==e){if(b.ispage)return b;g=b.win.offset();if(b.lastposition&&(f=b.lastposition,f.top==g.top&&f.left==g.left))return b;b.lastposition=g}0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0;0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=
        0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0;b.locked=0==b.page.maxh&&0==b.page.maxw;if(b.locked)return b.ispage||b.updateScrollBar(b.view),!1;b.hidden||b.visibility?!b.hidden&&!b.railh.visibility&&b.showRailHr():b.showRail().showRailHr();b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20);b.ispage||b.updateScrollBar(b.view);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h/b.page.h*b.view.h));b.cursorheight=Math.max(b.opt.cursorminheight,
        b.cursorheight);b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w/b.page.w*b.view.w));b.cursorwidth=Math.max(b.opt.cursorminheight,b.cursorwidth);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder);b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScroll(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*
        (1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor());b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));return b};this.resize=function(){b.delayed("resize",b.onResize,30);return b};this.lazyResize=function(){b.delayed("resize",b.resize,250)};this._bind=function(d,c,g,f){b.events.push({e:d,n:c,f:g,b:f});d.addEventListener?d.addEventListener(c,g,f||!1):d.attachEvent?d.attachEvent("on"+c,g):d["on"+c]=g};
    this.bind=function(d,c,g,e){var h="jquery"in d?d[0]:d;h.addEventListener?(f.cantouch&&/mouseup|mousedown|mousemove/.test(c)&&b._bind(h,"mousedown"==c?"touchstart":"mouseup"==c?"touchend":"touchmove",function(b){if(b.touches){if(2>b.touches.length){var d=b.touches.length?b.touches[0]:b;d.original=b;g.call(this,d)}}else b.changedTouches&&(d=b.changedTouches[0],d.original=b,g.call(this,d))},e||!1),b._bind(h,c,g,e||!1),"mousewheel"==c&&b._bind(h,"DOMMouseScroll",g,e||!1),f.cantouch&&"mouseup"==c&&b._bind(h,
        "touchcancel",g,e||!1)):b._bind(h,c,function(d){(d=d||window.event||!1)&&d.srcElement&&(d.target=d.srcElement);return!1===g.call(h,d)||!1===e?b.cancelEvent(d):!0})};this._unbind=function(b,c,g,f){b.removeEventListener?b.removeEventListener(c,g,f):b.detachEvent?b.detachEvent("on"+c,g):b["on"+c]=!1};this.unbindAll=function(){for(var d=0;d<b.events.length;d++){var c=b.events[d];b._unbind(c.e,c.n,c.f,c.b)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;b.preventDefault&&
    b.preventDefault();b.stopPropagation&&b.stopPropagation();b.preventManipulation&&b.preventManipulation();b.cancelBubble=!0;b.cancel=!0;return b.returnValue=!1};this.stopPropagation=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;if(b.stopPropagation)return b.stopPropagation();b.cancelBubble&&(b.cancelBubble=!0);return!1};this.showRail=function(){0==b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block"));return b};
    this.showRailHr=function(){if(!b.railh)return b;0==b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block"));return b};this.hideRail=function(){b.visibility=!1;b.rail.visibility=!1;b.rail.css("display","none");return b};this.hideRailHr=function(){if(!b.railh)return b;b.railh.visibility=!1;b.railh.css("display","none");return b};this.show=function(){b.hidden=!1;b.locked=!1;return b.showRail().showRailHr()};this.hide=function(){b.hidden=!0;b.locked=
        !0;return b.hideRail().hideRailHr()};this.toggle=function(){return b.hidden?b.show():b.hide()};this.remove=function(){b.doZoomOut();b.unbindAll();!1!==b.observer&&b.observer.disconnect();b.events=[];b.cursor&&(b.cursor.remove(),b.cursor=null);b.cursorh&&(b.cursorh.remove(),b.cursorh=null);b.rail&&(b.rail.remove(),b.rail=null);b.railh&&(b.railh.remove(),b.railh=null);b.zoom&&(b.zoom.remove(),b.zoom=null);for(var d=0;d<b.saved.css.length;d++){var c=b.saved.css[d];c[0].css(c[1],"undefined"==typeof c[2]?
        "":c[2])}b.saved=!1;b.me.data("__nicescroll","");b.me=null;b.doc=null;b.docscroll=null;b.win=null;return b};this.scrollstart=function(d){this.onscrollstart=d;return b};this.scrollend=function(d){this.onscrollend=d;return b};this.scrollcancel=function(d){this.onscrollcancel=d;return b};this.zoomin=function(d){this.onzoomin=d;return b};this.zoomout=function(d){this.onzoomout=d;return b};this.isScrollable=function(b){for(b=b.target?b.target:b;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var c=e(b);
        if(/scroll|auto/.test(c.css("overflowY")||c.css("overflowX")||c.css("overflow")||""))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1};this.getViewport=function(b){for(b=b&&b.parentNode?b.parentNode:!1;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var c=e(b);if(/scroll|auto/.test(c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"")&&b.clientHeight!=b.scrollHeight||0<c.getNiceScroll().length)return c;b=b.parentNode?b.parentNode:!1}return!1};this.onmousewheel=
        function(c){if(b.locked)return!0;if(!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(c):!0;b.opt.preservenativescrolling&&b.checkarea&&(b.checkarea=!1,b.nativescrollingarea=b.isScrollable(c));if(b.nativescrollingarea)return!0;if(b.locked||b.rail.drag)return b.cancelEvent(c);k(c,!1);return b.cancelEvent(c)};this.onmousewheelhr=function(c){if(b.locked||!b.railh.scrollable)return!0;b.opt.preservenativescrolling&&b.checkarea&&(b.checkarea=!1,b.nativescrollingarea=b.isScrollable(c));
        if(b.nativescrollingarea)return!0;if(b.locked||b.rail.drag)return b.cancelEvent(c);k(c,!0);return b.cancelEvent(c)};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=!1;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};this.getTransitionSpeed=function(c){var f=Math.round(10*b.opt.scrollspeed);c=Math.min(f,Math.round(c/20*b.opt.scrollspeed));return 20<c?c:0};b.opt.smoothscroll?b.ishwscroll&&f.hastransition&&b.opt.usetransition?
        (this.prepareTransition=function(c,e){var g=e?20<c?c:0:b.getTransitionSpeed(c),h=g?f.prefixstyle+"transform "+g+"ms ease-out":"";b.lasttransitionstyle&&b.lasttransitionstyle==h||(b.lasttransitionstyle=h,b.doc.css(f.transitionstyle,h));return g},this.doScrollLeft=function(c,f){var g=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(c,g,f)},this.doScrollTop=function(c,f){var g=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(g,c,f)},this.doScrollPos=function(c,e,g){var h=b.getScrollTop(),
            k=b.getScrollLeft();(0>(b.newscrolly-h)*(e-h)||0>(b.newscrollx-k)*(c-k))&&b.cancelScroll();!1==b.opt.bouncescroll&&(0>e?e=0:e>b.page.maxh&&(e=b.page.maxh),0>c?c=0:c>b.page.maxw&&(c=b.page.maxw));if(c==b.newscrollx&&e==b.newscrolly)return!1;b.newscrolly=e;b.newscrollx=c;b.newscrollspeed=g||!1;if(b.timer)return!1;b.timer=setTimeout(function(){var g=b.getScrollTop(),h=b.getScrollLeft(),k,l;k=c-h;l=e-g;k=Math.round(Math.sqrt(Math.pow(k,2)+Math.pow(l,2)));k=b.prepareTransition(b.newscrollspeed?b.newscrollspeed:
            k);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);0<k&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:h,y:g},request:{x:c,y:e},end:{x:b.newscrollx,y:b.newscrolly},speed:k}),f.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,f.transitionend,b.onScrollEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,k)),b.timerscroll={bz:new BezierClass(g,b.newscrolly,k,0,0,.58,
            1),bh:new BezierClass(h,b.newscrollx,k,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60)));b.synched("doScroll-set",function(){b.timer=0;b.scrollendtrapped&&(b.scrollrunning=!0);b.setScrollTop(b.newscrolly);b.setScrollLeft(b.newscrollx);if(!b.scrollendtrapped)b.onScrollEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var c=b.getScrollTop(),e=b.getScrollLeft();b.scrollrunning=!1;f.transitionend||clearTimeout(f.transitionend);
            b.scrollendtrapped=!1;b._unbind(b.doc,f.transitionend,b.onScrollEnd);b.prepareTransition(0);b.setScrollTop(c);b.railh&&b.setScrollLeft(e);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;b.showCursor(c,e);return b},this.onScrollEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,f.transitionend,b.onScrollEnd);b.scrollendtrapped=!1;b.prepareTransition(0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;var c=b.getScrollTop(),
            e=b.getScrollLeft();b.setScrollTop(c);b.railh&&b.setScrollLeft(e);b.noticeCursor(!1,c,e);b.cursorfreezed=!1;0>c?c=0:c>b.page.maxh&&(c=b.page.maxh);0>e?e=0:e>b.page.maxw&&(e=b.page.maxw);if(c!=b.newscrolly||e!=b.newscrollx)return b.doScrollPos(e,c,b.opt.snapbackspeed);b.onscrollend&&b.scrollrunning&&b.onscrollend.call(b,{type:"scrollend",current:{x:e,y:c},end:{x:b.newscrollx,y:b.newscrolly}});b.scrollrunning=!1}):(this.doScrollLeft=function(c){var f=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(c,
        f)},this.doScrollTop=function(c){var f=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(f,c)},this.doScrollPos=function(c,f){function g(){if(b.cancelAnimationFrame)return!0;b.scrollrunning=!0;if(q=1-q)return b.timer=s(g)||1;var c=0,d=sy=b.getScrollTop();if(b.dst.ay){var d=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,f=d-sy;if(0>f&&d<b.newscrolly||0<f&&d>b.newscrolly)d=b.newscrolly;b.setScrollTop(d);d==b.newscrolly&&(c=1)}else c=1;var e=sx=b.getScrollLeft();if(b.dst.ax){e=
        b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;f=e-sx;if(0>f&&e<b.newscrollx||0<f&&e>b.newscrollx)e=b.newscrollx;b.setScrollLeft(e);e==b.newscrollx&&(c+=1)}else c+=1;2==c?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>d?d=0:d>b.page.maxh&&(d=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw),e!=b.newscrollx||d!=b.newscrolly?b.doScrollPos(e,d):b.onscrollend&&b.onscrollend.call(b,{type:"scrollend",current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})):b.timer=s(g)||
        1}f="undefined"==typeof f||!1===f?b.getScrollTop(!0):f;if(b.timer&&b.newscrolly==f&&b.newscrollx==c)return!0;b.timer&&t(b.timer);b.timer=0;var e=b.getScrollTop(),h=b.getScrollLeft();(0>(b.newscrolly-e)*(f-e)||0>(b.newscrollx-h)*(c-h))&&b.cancelScroll();b.newscrolly=f;b.newscrollx=c;b.bouncescroll&&b.rail.visibility||(0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh));b.bouncescroll&&b.railh.visibility||(0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=
        b.page.maxw));b.dst={};b.dst.x=c-h;b.dst.y=f-e;b.dst.px=h;b.dst.py=e;var k=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/k;b.dst.ay=b.dst.y/k;var l=0,m=k;0==b.dst.x?(l=e,m=f,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(l=h,m=c,b.dst.ax=1,b.dst.px=0);k=b.getTransitionSpeed(k);b.bzscroll=0<k?b.bzscroll?b.bzscroll.update(m,k):new BezierClass(l,m,k,0,1,0,1):!1;if(!b.timer){(e==b.page.maxh&&f>=b.page.maxh||h==b.page.maxw&&c>=b.page.maxw)&&b.checkContentSize();var q=1;b.cancelAnimationFrame=
        !1;b.timer=1;b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:h,y:e},request:{x:c,y:f},end:{x:b.newscrollx,y:b.newscrolly},speed:k});g();(e==b.page.maxh&&f>=e||h==b.page.maxw&&c>=h)&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&t(b.timer);b.timer=0;b.bzscroll=!1;b.scrollrunning=!1;return b}):(this.doScrollLeft=function(c,f){var g=b.getScrollTop();b.doScrollPos(c,g,f)},this.doScrollTop=function(c,f){var g=b.getScrollLeft();b.doScrollPos(g,
        c,f)},this.doScrollPos=function(c,f){var g=c>b.page.maxw?b.page.maxw:c;0>g&&(g=0);var e=f>b.page.maxh?b.page.maxh:f;0>e&&(e=0);b.synched("scroll",function(){b.setScrollTop(e);b.setScrollLeft(g)})},this.cancelScroll=function(){});this.doScrollBy=function(c,f){var g=0,g=f?Math.floor((b.scroll.y-c)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-c;if(b.bouncescroll){var e=Math.round(b.view.h/2);g<-e?g=-e:g>b.page.maxh+e&&(g=b.page.maxh+e)}b.cursorfreezed=!1;py=b.getScrollTop(!0);if(0>g&&0>=
        py)return b.noticeCursor();if(g>b.page.maxh&&py>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.doScrollTop(g)};this.doScrollLeftBy=function(c,f){var e=0,e=f?Math.floor((b.scroll.x-c)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-c;if(b.bouncescroll){var h=Math.round(b.view.w/2);e<-h?e=-h:e>b.page.maxw+h&&(e=b.page.maxw+h)}b.cursorfreezed=!1;px=b.getScrollLeft(!0);if(0>e&&0>=px||e>b.page.maxw&&px>=b.page.maxw)return b.noticeCursor();b.doScrollLeft(e)};this.doScrollTo=function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   f){f&&Math.round(c*b.scrollratio.y);b.cursorfreezed=!1;b.doScrollTop(c)};this.checkContentSize=function(){var c=b.getContentSize();c.h==b.page.h&&c.w==b.page.w||b.resize(!1,c)};b.onscroll=function(){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)));b.noticeCursor()})};b.bind(b.docscroll,"scroll",b.onscroll);this.doZoomIn=function(c){if(!b.zoomactive){b.zoomactive=
        !0;b.zoomrestore={style:{}};var h="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),g=b.win[0].style,k;for(k in h){var l=h[k];b.zoomrestore.style[l]="undefined"!=typeof g[l]?g[l]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};f.isios4&&(b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0));
        b.win.css({position:f.isios4?"absolute":"fixed",top:0,left:0,"z-index":b.opt.zindex+100,margin:"0px"});h=b.win.css("backgroundColor");(""==h||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(h))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":b.opt.zindex+110});b.zoom.css({"z-index":b.opt.zindex+112});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();b.onzoomin&&b.onzoomin.call(b);return b.cancelEvent(c)}};this.doZoomOut=function(c){if(b.zoomactive)return b.zoomactive=!1,
        b.win.css("margin",""),b.win.css(b.zoomrestore.style),f.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.ispage?b.opt.zindex:b.opt.zindex+2}),b.zoom.css({"z-index":b.opt.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(c)};this.doZoom=function(c){return b.zoomactive?b.doZoomOut(c):b.doZoomIn(c)};this.resizeZoom=function(){if(b.zoomactive){var c=b.getScrollTop();b.win.css({width:e(window).width()-
        b.zoomrestore.padding.w+"px",height:e(window).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,c))}};this.init();e.nicescroll.push(this)},C=function(e){var c=this;this.nc=e;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+new Date};this.reset=function(e,k){c.stop();var b=c.time();c.steptime=
    0;c.lasttime=b;c.speedx=0;c.speedy=0;c.lastx=e;c.lasty=k;c.lastscrollx=-1;c.lastscrolly=-1};this.update=function(e,k){var b=c.time();c.steptime=b-c.lasttime;c.lasttime=b;var b=k-c.lasty,l=e-c.lastx,f=c.nc.getScrollTop(),p=c.nc.getScrollLeft(),f=f+b,p=p+l;c.snapx=0>p||p>c.nc.page.maxw;c.snapy=0>f||f>c.nc.page.maxh;c.speedx=l;c.speedy=b;c.lastx=e;c.lasty=k};this.stop=function(){c.nc.unsynched("domomentum2d");c.timer&&clearTimeout(c.timer);c.timer=0;c.lastscrollx=-1;c.lastscrolly=-1};this.doSnapy=function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                k){var b=!1;0>k?(k=0,b=!0):k>c.nc.page.maxh&&(k=c.nc.page.maxh,b=!0);0>e?(e=0,b=!0):e>c.nc.page.maxw&&(e=c.nc.page.maxw,b=!0);b&&c.nc.doScrollPos(e,k,c.nc.opt.snapbackspeed)};this.doMomentum=function(e){var k=c.time(),b=e?k+e:c.lasttime;e=c.nc.getScrollLeft();var l=c.nc.getScrollTop(),f=c.nc.page.maxh,p=c.nc.page.maxw;c.speedx=0<p?Math.min(60,c.speedx):0;c.speedy=0<f?Math.min(60,c.speedy):0;b=b&&50>=k-b;if(0>l||l>f||0>e||e>p)b=!1;e=c.speedx&&b?c.speedx:!1;if(c.speedy&&b&&c.speedy||e){var r=Math.max(16,
    c.steptime);50<r&&(e=r/50,c.speedx*=e,c.speedy*=e,r=50);c.demulxy=0;c.lastscrollx=c.nc.getScrollLeft();c.chkx=c.lastscrollx;c.lastscrolly=c.nc.getScrollTop();c.chky=c.lastscrolly;var d=c.lastscrollx,n=c.lastscrolly,g=function(){var b=600<c.time()-k?.04:.02;c.speedx&&(d=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),c.lastscrollx=d,0>d||d>p)&&(b=.1);c.speedy&&(n=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),c.lastscrolly=n,0>n||n>f)&&(b=.1);c.demulxy=Math.min(1,c.demulxy+b);c.nc.synched("domomentum2d",
    function(){c.speedx&&(c.nc.getScrollLeft()!=c.chkx&&c.stop(),c.chkx=d,c.nc.setScrollLeft(d));c.speedy&&(c.nc.getScrollTop()!=c.chky&&c.stop(),c.chky=n,c.nc.setScrollTop(n));c.timer||(c.nc.hideCursor(),c.doSnapy(d,n))});1>c.demulxy?c.timer=setTimeout(g,r):(c.stop(),c.nc.hideCursor(),c.doSnapy(d,n))};g()}else c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},w=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(l){var c=e.data(l,"__nicescroll")||!1;return c&&c.ishwscroll?c.getScrollTop():w.call(l)},
    set:function(l,c){var h=e.data(l,"__nicescroll")||!1;h&&h.ishwscroll?h.setScrollTop(parseInt(c)):w.call(l,c);return this}};e.fn.scrollTop=function(l){if("undefined"==typeof l){var c=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollTop():w.call(this)}return this.each(function(){var c=e.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollTop(parseInt(l)):w.call(e(this),l)})};var x=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(l){var c=e.data(l,"__nicescroll")||
    !1;return c&&c.ishwscroll?c.getScrollLeft():x.call(l)},set:function(l,c){var h=e.data(l,"__nicescroll")||!1;h&&h.ishwscroll?h.setScrollLeft(parseInt(c)):x.call(l,c);return this}};e.fn.scrollLeft=function(l){if("undefined"==typeof l){var c=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollLeft():x.call(this)}return this.each(function(){var c=e.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollLeft(parseInt(l)):x.call(e(this),l)})};var y=function(l){var c=this;this.length=
    0;this.name="nicescrollarray";this.each=function(e){for(var b=0;b<c.length;b++)e.call(c[b]);return c};this.push=function(e){c[c.length]=e;c.length++};this.eq=function(e){return c[e]};if(l)for(a=0;a<l.length;a++){var h=e.data(l[a],"__nicescroll")||!1;h&&(this[this.length]=h,this.length++)}return this};(function(e,c,h){for(var k=0;k<c.length;k++)h(e,c[k])})(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,c){e[c]=function(){var e=arguments;return this.each(function(){this[c].apply(this,
    e)})}});e.fn.getNiceScroll=function(l){return"undefined"==typeof l?new y(this):e.data(this[l],"__nicescroll")||!1};e.extend(e.expr[":"],{nicescroll:function(l){return e.data(l,"__nicescroll")?!0:!1}});e.fn.niceScroll=function(l,c){"undefined"==typeof c&&"object"==typeof l&&!("jquery"in l)&&(c=l,l=!1);var h=new y;"undefined"==typeof c&&(c={});l&&(c.doc=e(l),c.win=e(this));var k=!("doc"in c);k||"win"in c||(c.win=e(this));this.each(function(){var b=e(this).data("__nicescroll")||!1;b||(c.doc=k?e(this):
    c.doc,b=new I(c,e(this)),e(this).data("__nicescroll",b));h.push(b)});return 1==h.length?h[0]:h};window.NiceScroll={getjQuery:function(){return e}};e.nicescroll||(e.nicescroll=new y)})(jQuery);
;

/**
 * OnePageNav
 */
(function(c,g,h,k){var e=function(a,b){this.elem=a;this.$elem=c(a);this.options=b;this.metadata=this.$elem.data("plugin-options");this.$win=c(g);this.sections={};this.didScroll=!1;this.$doc=c(h);this.docHeight=this.$doc.height()};e.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){this.config=c.extend({},this.defaults,this.options,this.metadata);this.$nav=this.$elem.find(this.config.navItems);
    ""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter));this.$nav.on("click.onePageNav",c.proxy(this.handleClick,this));this.getPositions();this.bindInterval();this.$win.on("resize.onePageNav",c.proxy(this.getPositions,this));return this},adjustNav:function(a,b){a.$elem.find("."+a.config.currentClass).removeClass(a.config.currentClass);b.addClass(a.config.currentClass)},bindInterval:function(){var a=this,b;a.$win.on("scroll.onePageNav",function(){a.didScroll=!0});a.t=setInterval(function(){b=
    a.$doc.height();a.didScroll&&(a.didScroll=!1,a.scrollChange());b!==a.docHeight&&(a.docHeight=b,a.getPositions())},250)},getHash:function(a){return a.attr("href").split("#")[1]},getPositions:function(){var a=this,b,f,d;a.$nav.each(function(){b=a.getHash(c(this));d=c("#"+b);d.length&&(f=d.offset().top,a.sections[b]=Math.round(f))})},getSection:function(a){var b=null,c=Math.round(this.$win.height()*this.config.scrollThreshold),d;for(d in this.sections)this.sections[d]-c<a&&(b=d);return b},handleClick:function(a){var b=
    this,f=c(a.currentTarget),d=f.parent(),e="#"+b.getHash(f);d.hasClass(b.config.currentClass)||(b.config.begin&&b.config.begin(),b.adjustNav(b,d),b.unbindInterval(),b.scrollTo(e,function(){b.config.changeHash&&(g.location.hash=e);b.bindInterval();b.config.end&&b.config.end()}));a.preventDefault()},scrollChange:function(){var a=this.$win.scrollTop(),a=this.getSection(a);null!==a&&(a=this.$elem.find('a[href$="#'+a+'"]').parent(),a.hasClass(this.config.currentClass)||(this.adjustNav(this,a),this.config.scrollChange&&
    this.config.scrollChange(a)))},scrollTo:function(a,b){var e=c(a).offset().top;c("html, body").animate({scrollTop:e},this.config.scrollSpeed,this.config.easing,b)},unbindInterval:function(){clearInterval(this.t);this.$win.unbind("scroll.onePageNav")}};e.defaults=e.prototype.defaults;c.fn.onePageNav=function(a){return this.each(function(){(new e(this,a)).init()})}})(jQuery,window,document);
;

/**
 * Superfish
 */
(function(c){var g=function(){var e=/iPhone|iPad|iPod/i.test(navigator.userAgent),g=function(){var b=document.documentElement.style;return"behavior"in b&&"fill"in b&&/iemobile/i.test(navigator.userAgent)}();(function(){e&&c(window).load(function(){c("body").children().on("click",c.noop)})})();var m=function(b,a){var c="sf-js-enabled";a.cssArrows&&(c+=" sf-arrows");b.toggleClass(c)},q=function(b,a){return b.find("li."+a.pathClass).slice(0,a.pathLevels).addClass(a.hoverClass+" sf-breadcrumb").filter(function(){return c(this).children("ul").hide().show().length}).removeClass(a.pathClass)},
    n=function(b){var a=b.css("ms-touch-action");b.css("ms-touch-action","pan-y"===a?"auto":"pan-y")},r=function(b){var a=c(this),d=a.siblings("ul");0<d.length&&d.is(":hidden")&&(a.one("click.superfish",!1),"MSPointerDown"===b.type?a.trigger("focus"):c.proxy(h,a.parent("li"))())},h=function(){var b=c(this),a=f(b);clearTimeout(a.sfTimer);b.siblings().superfish("hide").end().superfish("show")},l=function(){var b=c(this),a=f(b);e?c.proxy(p,b,a)():(clearTimeout(a.sfTimer),a.sfTimer=setTimeout(c.proxy(p,b,
        a),a.delay))},p=function(b){b.retainPath=-1<c.inArray(this[0],b.$path);this.superfish("hide");this.parents("."+b.hoverClass).length||(b.onIdle.call(this.closest(".sf-js-enabled")),b.$path.length&&c.proxy(h,b.$path)())},f=function(b){return b.closest(".sf-js-enabled").data("sf-options")};return{hide:function(b){if(this.length){var a=f(this);if(!a)return this;var d=!0===a.retainPath?a.$path:"",d=this.find("li."+a.hoverClass).add(this).not(d).removeClass(a.hoverClass).children("ul"),e=a.speedOut;b&&
(d.show(),e=0);a.retainPath=!1;a.onBeforeHide.call(d);d.stop(!0,!0).animate(a.animationOut,e,function(){var b=c(this);a.onHide.call(b)})}return this},show:function(){var b=f(this);if(!b)return this;var a=this.addClass(b.hoverClass).children("ul");b.onBeforeShow.call(a);a.stop(!0,!0).animate(b.animation,b.speed,function(){b.onShow.call(a)});return this},destroy:function(){return this.each(function(){var b=c(this),a=b.data("sf-options"),d=b.find("li:has(ul)");if(!a)return!1;clearTimeout(a.sfTimer);
    m(b,a);d.children("a").toggleClass("sf-with-ul");n(b);b.off(".superfish").off(".hoverIntent");d.children("ul").attr("style",function(a,b){return b.replace(/display[^;]+;?/g,"")});a.$path.removeClass(a.hoverClass+" sf-breadcrumb").addClass(a.pathClass);b.find("."+a.hoverClass).removeClass(a.hoverClass);a.onDestroy.call(b);b.removeData("sf-options")})},init:function(b){return this.each(function(){var a=c(this);if(a.data("sf-options"))return!1;var d=c.extend({},c.fn.superfish.defaults,b),f=a.find("li:has(ul)");
    d.$path=q(a,d);a.data("sf-options",d);m(a,d);f.children("a").toggleClass("sf-with-ul");n(a);if(c.fn.hoverIntent&&!d.disableHI)a.hoverIntent(h,l,"li:has(ul)");else a.on("mouseenter.superfish","li:has(ul)",h).on("mouseleave.superfish","li:has(ul)",l);var k="MSPointerDown.superfish";e||(k+=" touchend.superfish");g&&(k+=" mousedown.superfish");a.on("focusin.superfish","li",h).on("focusout.superfish","li",l).on(k,"a",r);f.not(".sf-breadcrumb").superfish("hide",!0);d.onInit.call(this)})}}}();c.fn.superfish=
    function(e,s){return g[e]?g[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof e&&e?c.error("Method "+e+" does not exist on jQuery.fn.superfish"):g.init.apply(this,arguments)};c.fn.superfish.defaults={hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:c.noop,onBeforeShow:c.noop,onShow:c.noop,onBeforeHide:c.noop,onHide:c.noop,onIdle:c.noop,
    onDestroy:c.noop};c.fn.extend({hideSuperfishUl:g.hide,showSuperfishUl:g.show})})(jQuery);
;

/**
 * Supersubs
 */
(function(b){b.fn.supersubs=function(g){var h=b.extend({},b.fn.supersubs.defaults,g);return this.each(function(){var c=b(this),d=b.meta?b.extend({},h,c.data()):h;$ULs=c.find("ul").show();var g=b('<li id="menu-fontsize">&#8212;</li>').css({padding:0,position:"absolute",top:"-999em",width:"auto"}).appendTo(c)[0].clientWidth;b("#menu-fontsize").remove();$ULs.each(function(e){e=b(this);var f=e.children(),a=f.children("a"),c=f.css("white-space","nowrap").css("float");e.add(f).add(a).css({"float":"none",
    width:"auto"});a=e[0].clientWidth/g;a+=d.extraWidth;a>d.maxWidth?a=d.maxWidth:a<d.minWidth&&(a=d.minWidth);e.css("width",a+"em");f.css({"float":c,width:"100%","white-space":"normal"}).each(function(){var a=b(this).children("ul"),c=void 0!==a.css("left")?"left":"right";a.css(c,"100%")})}).hide()})};b.fn.supersubs.defaults={minWidth:9,maxWidth:25,extraWidth:0}})(jQuery);
;

/**
 * Waypoints
 */
(function(){var x=[].indexOf||function(c){for(var g=0,m=this.length;g<m;g++)if(g in this&&this[g]===c)return g;return-1},s=[].slice;(function(c,g){return"function"===typeof define&&define.amd?define("waypoints",["jquery"],function(m){return g(m,c)}):g(c.jQuery,c)})(this,function(c,g){var m,t,q,l,u,n,r,h,k,v;m=c(g);r=0<=x.call(g,"ontouchstart");l={horizontal:{},vertical:{}};u=1;n={};v=1;t=function(){function a(b){var a=this;this.$element=b;this.element=b[0];this.didScroll=this.didResize=!1;this.id=
    "context"+u++;this.oldScroll={x:b.scrollLeft(),y:b.scrollTop()};this.waypoints={horizontal:{},vertical:{}};b.data("waypoints-context-id",this.id);n[this.id]=this;b.bind("scroll.waypoints",function(){if(!a.didScroll&&!r)return a.didScroll=!0,g.setTimeout(function(){a.doScroll();return a.didScroll=!1},c.waypoints.settings.scrollThrottle)});b.bind("resize.waypoints",function(){if(!a.didResize)return a.didResize=!0,g.setTimeout(function(){c.waypoints("refresh");return a.didResize=!1},c.waypoints.settings.resizeThrottle)})}
    a.prototype.doScroll=function(){var b,a=this;b={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};!r||b.vertical.oldScroll&&b.vertical.newScroll||c.waypoints("refresh");c.each(b,function(b,f){var w,g,p;p=[];w=(g=f.newScroll>f.oldScroll)?f.forward:f.backward;c.each(a.waypoints[b],function(b,a){var c,e;if(f.oldScroll<(c=a.offset)&&c<=f.newScroll||
        f.newScroll<(e=a.offset)&&e<=f.oldScroll)return p.push(a)});p.sort(function(b,a){return b.offset-a.offset});g||p.reverse();return c.each(p,function(b,a){if(a.options.continuous||b===p.length-1)return a.trigger([w])})});return this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}};a.prototype.refresh=function(){var b,a,d=this;a=c.isWindow(this.element);b=this.$element.offset();this.doScroll();b={horizontal:{contextOffset:a?0:b.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.$element.width(),
        oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:b.top,contextScroll:a?0:this.oldScroll.y,contextDimension:a?c.waypoints("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return c.each(b,function(b,a){return c.each(d.waypoints[b],function(b,d){var e,f,g,h,k;e=d.options.offset;g=d.offset;f=c.isWindow(d.element)?0:d.$element.offset()[a.offsetProp];c.isFunction(e)?e=e.apply(d.element):
        "string"===typeof e&&(e=parseFloat(e),-1<d.options.offset.indexOf("%")&&(e=Math.ceil(a.contextDimension*e/100)));d.offset=f-a.contextOffset+a.contextScroll-e;if((!d.options.onlyOnScroll||null==g)&&d.enabled){if(null!==g&&g<(h=a.oldScroll)&&h<=d.offset)return d.trigger([a.backward]);if(null!==g&&g>(k=a.oldScroll)&&k>=d.offset||null===g&&a.oldScroll>=d.offset)return d.trigger([a.forward])}})})};a.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind("resize.waypoints scroll.waypoints"),
        delete n[this.id]};return a}();q=function(){function a(a,e,d){var f;d=c.extend({},c.fn.waypoint.defaults,d);"bottom-in-view"===d.offset&&(d.offset=function(){var a;a=c.waypoints("viewportHeight");c.isWindow(e.element)||(a=e.$element.height());return a-c(this).outerHeight()});this.$element=a;this.element=a[0];this.axis=d.horizontal?"horizontal":"vertical";this.callback=d.handler;this.context=e;this.enabled=d.enabled;this.id="waypoints"+v++;this.offset=null;this.options=d;e.waypoints[this.axis][this.id]=
    this;l[this.axis][this.id]=this;d=null!=(f=a.data("waypoints-waypoint-ids"))?f:[];d.push(this.id);a.data("waypoints-waypoint-ids",d)}a.prototype.trigger=function(a){if(this.enabled&&(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce))return this.destroy()};a.prototype.disable=function(){return this.enabled=!1};a.prototype.enable=function(){this.context.refresh();return this.enabled=!0};a.prototype.destroy=function(){delete l[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];
    return this.context.checkEmpty()};a.getWaypointsByElement=function(a){var e;a=c(a).data("waypoints-waypoint-ids");if(!a)return[];e=c.extend({},l.horizontal,l.vertical);return c.map(a,function(a){return e[a]})};return a}();k={init:function(a,b){null==b&&(b={});null==b.handler&&(b.handler=a);this.each(function(){var a,d,f;a=c(this);f=null!=(d=b.context)?d:c.fn.waypoint.defaults.context;c.isWindow(f)||(f=a.closest(f));f=c(f);(d=n[f.data("waypoints-context-id")])||(d=new t(f));return new q(a,d,b)});c.waypoints("refresh");
    return this},disable:function(){return k._invoke(this,"disable")},enable:function(){return k._invoke(this,"enable")},destroy:function(){return k._invoke(this,"destroy")},prev:function(a,b){return k._traverse.call(this,a,b,function(a,b,c){if(0<b)return a.push(c[b-1])})},next:function(a,b){return k._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(a,b,e){var d,f;null==a&&(a="vertical");null==b&&(b=g);f=h.aggregate(b);d=[];this.each(function(){var b;
    b=c.inArray(this,f[a]);return e(d,b,f[a])});return this.pushStack(d)},_invoke:function(a,b){a.each(function(){var a;a=q.getWaypointsByElement(this);return c.each(a,function(a,c){c[b]();return!0})});return this}};c.fn.waypoint=function(){var a,b;b=arguments[0];a=2<=arguments.length?s.call(arguments,1):[];return k[b]?k[b].apply(this,a):c.isFunction(b)?k.init.apply(this,arguments):c.isPlainObject(b)?k.init.apply(this,[null,b]):b?c.error("The "+b+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")};
    c.fn.waypoint.defaults={context:g,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};h={refresh:function(){return c.each(n,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=g.innerHeight)?a:m.height()},aggregate:function(a){var b,e,d;b=l;a&&(b=null!=(d=n[c(a).data("waypoints-context-id")])?d.waypoints:void 0);if(!b)return[];e={horizontal:[],vertical:[]};c.each(e,function(a,d){c.each(b[a],function(a,b){return d.push(b)});d.sort(function(a,b){return a.offset-
        b.offset});e[a]=c.map(d,function(a){return a.element});return e[a]=c.unique(e[a])});return e},above:function(a){null==a&&(a=g);return h._filter(a,"vertical",function(a,c){return c.offset<=a.oldScroll.y})},below:function(a){null==a&&(a=g);return h._filter(a,"vertical",function(a,c){return c.offset>a.oldScroll.y})},left:function(a){null==a&&(a=g);return h._filter(a,"horizontal",function(a,c){return c.offset<=a.oldScroll.x})},right:function(a){null==a&&(a=g);return h._filter(a,"horizontal",function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c){return c.offset>a.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(a,b){return k[a]=b},_invoke:function(a){var b;b=c.extend({},l.vertical,l.horizontal);return c.each(b,function(b,c){c[a]();return!0})},_filter:function(a,b,e){var d,f;d=n[c(a).data("waypoints-context-id")];if(!d)return[];f=[];c.each(d.waypoints[b],function(a,b){if(e(d,b))return f.push(b)});f.sort(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b){return a.offset-b.offset});return c.map(f,function(a){return a.element})}};c.waypoints=function(){var a,b;b=arguments[0];a=2<=arguments.length?s.call(arguments,1):[];return h[b]?h[b].apply(null,a):h.aggregate.call(null,b)};c.waypoints.settings={resizeThrottle:100,scrollThrottle:30};return m.load(function(){return c.waypoints("refresh")})})}).call(this);
;

/**
 * Knob
 */
(function(h){var f,m,n,k=Math.max,l=Math.min;f={};f.d=h(document);f.t=function(a){return a.originalEvent.touches.length-1};m=function(){var a=this;this.cv=this.v=this.g=this.i=this.$=this.o=null;this.y=this.x=0;this.c=this.$c=null;this.t=0;this.isInit=!1;this.rH=this.eH=this.cH=this.dH=this.pColor=this.fgColor=null;this.run=function(){var b=function(b,d){for(var e in d)a.o[e]=d[e];a.init();a._configure()._draw()};if(!this.$.data("kontroled"))return this.$.data("kontroled",!0),this.extend(),this.o=
    h.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:!0,readOnly:this.$.data("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||
        this.$.data("fgcolor")||"#87CEEB",inline:!1,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null},this.o),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(b){var d=h(this);a.i[b]=d;a.v[b]=d.val();d.bind("change",function(){var e={};e[b]=d.val();a.val(e)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.$.val(),""==this.v&&(this.v=this.o.min),this.$.bind("change",function(){a.val(a._validate(a.$.val()))})),!this.o.displayInput&&this.$.hide(),
    this.$c=h('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>'),this.c=this.$c[0].getContext("2d"),this.$.wrap(h('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",b).parent().bind("configure",b),this._listen()._configure()._xy().init(),this.isInit=!0,this._draw(),this};this._draw=function(){var b=
    !0,c=document.createElement("canvas");c.width=a.o.width;c.height=a.o.height;a.g=c.getContext("2d");a.clear();a.dH&&(b=a.dH());!1!==b&&a.draw();a.c.drawImage(c,0,0)};this._touch=function(b){var c=function(b){b=a.xy2val(b.originalEvent.touches[a.t].pageX,b.originalEvent.touches[a.t].pageY);b==a.cv||a.cH&&!1===a.cH(b)||(a.change(a._validate(b)),a._draw())};this.t=f.t(b);c(b);f.d.bind("touchmove.k",c).bind("touchend.k",function(){f.d.unbind("touchmove.k touchend.k");a.rH&&!1===a.rH(a.cv)||a.val(a.cv)});
    return this};this._mouse=function(b){var c=function(b){b=a.xy2val(b.pageX,b.pageY);b==a.cv||a.cH&&!1===a.cH(b)||(a.change(a._validate(b)),a._draw())};c(b);f.d.bind("mousemove.k",c).bind("keyup.k",function(b){27===b.keyCode&&(f.d.unbind("mouseup.k mousemove.k keyup.k"),a.eH&&!1===a.eH()||a.cancel())}).bind("mouseup.k",function(b){f.d.unbind("mousemove.k mouseup.k keyup.k");a.rH&&!1===a.rH(a.cv)||a.val(a.cv)});return this};this._xy=function(){var a=this.$c.offset();this.x=a.left;this.y=a.top;return this};
    this._listen=function(){this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(b){b.preventDefault();a._xy()._mouse(b)}).bind("touchstart",function(b){b.preventDefault();a._xy()._touch(b)}),this.listen());return this};this._configure=function(){this.o.draw&&(this.dH=this.o.draw);this.o.change&&(this.cH=this.o.change);this.o.cancel&&(this.eH=this.o.cancel);this.o.release&&(this.rH=this.o.release);this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=
        this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor;return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(a){return~~((0>a?-.5:.5)+a/this.o.step)*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(a){};this.val=function(a){};this.xy2val=function(a,c){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(a,c){var d;a=a.substring(1,7);d=[parseInt(a.substring(0,2),
        16),parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)];return"rgba("+d[0]+","+d[1]+","+d[2]+","+c+")"};this.copy=function(a,c){for(var d in a)c[d]=a[d]}};n=function(){m.call(this);this.w2=this.cursorExt=this.lineWidth=this.radius=this.xy=this.startAngle=null;this.PI2=2*Math.PI;this.extend=function(){this.o=h.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)};this.val=function(a){if(null!=a)this.v=
    this.cv=this.o.stopper?k(l(a,this.o.max),this.o.min):a,this.$.val(this.v),this._draw();else return this.v};this.xy2val=function(a,b){var c;c=Math.atan2(a-(this.x+this.w2),-(b-this.y-this.w2))-this.angleOffset;this.angleArc!=this.PI2&&0>c&&-.5<c?c=0:0>c&&(c+=this.PI2);c=~~(.5+c*(this.o.max-this.o.min)/this.angleArc)+this.o.min;this.o.stopper&&(c=k(l(c,this.o.max),this.o.min));return c};this.listen=function(){var a=this,b=function(b){b.preventDefault();var c=b.originalEvent;b=c.detail||c.wheelDeltaX;
    c=c.detail||c.wheelDeltaY;b=parseInt(a.$.val())+(0<b||0<c?a.o.step:0>b||0>c?-a.o.step:0);a.cH&&!1===a.cH(b)||a.val(b)},c,d,e=1,f={37:-a.o.step,38:a.o.step,39:a.o.step,40:-a.o.step};this.$.bind("keydown",function(b){var g=b.keyCode;96<=g&&105>=g&&(g=b.keyCode=g-48);c=parseInt(String.fromCharCode(g));isNaN(c)&&(13!==g&&8!==g&&9!==g&&189!==g&&b.preventDefault(),-1<h.inArray(g,[37,38,39,40])&&(b.preventDefault(),b=parseInt(a.$.val())+f[g]*e,a.o.stopper&&(b=k(l(b,a.o.max),a.o.min)),a.change(b),a._draw(),
    d=window.setTimeout(function(){e*=2},30)))}).bind("keyup",function(b){isNaN(c)?d&&(window.clearTimeout(d),d=null,e=1,a.val(a.$.val())):a.$.val()>a.o.max&&a.$.val(a.o.max)||a.$.val()<a.o.min&&a.$.val(a.o.min)});this.$c.bind("mousewheel DOMMouseScroll",b);this.$.bind("mousewheel DOMMouseScroll",b)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max)this.v=this.o.min;this.$.val(this.v);this.w2=this.o.width/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2;this.lineWidth=this.xy*this.o.thickness;
    this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var a=k(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,
        2)+2;this.o.displayInput&&this.i.css({width:(this.o.width/2+4>>0)+"px",height:(this.o.width/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.o.width/3>>0)+"px","margin-left":"-"+(3*this.o.width/4+2>>0)+"px",border:0,background:"none",font:"bold "+(this.o.width/a>>0)+"px Arial","text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(a){this.cv=a;this.$.val(a)};
    this.angle=function(a){return(a-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var a=this.g,b=this.angle(this.cv),c=this.startAngle,b=c+b,d,e;d=1;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;this.o.cursor&&(c=b-this.cursorExt)&&(b+=this.cursorExt);a.beginPath();a.strokeStyle=this.o.bgColor;a.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0);a.stroke();this.o.displayPrevious&&(e=this.startAngle+this.angle(this.v),d=this.startAngle,this.o.cursor&&(d=e-this.cursorExt)&&
        (e+=this.cursorExt),a.beginPath(),a.strokeStyle=this.pColor,a.arc(this.xy,this.xy,this.radius,d,e,!1),a.stroke(),d=this.cv==this.v);a.beginPath();a.strokeStyle=d?this.o.fgColor:this.fgColor;a.arc(this.xy,this.xy,this.radius,c,b,!1);a.stroke()};this.cancel=function(){this.val(this.v)}};h.fn.dial=h.fn.knob=function(a){return this.each(function(){var b=new n;b.o=a;b.$=h(this);b.run()}).parent()}})(jQuery);
;

/**
 * FitVids
 */
(function(d){d.fn.fitVids=function(f){var e={customSelector:null};if(!document.getElementById("fit-vids-style")){var c=document.createElement("div"),g=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];c.className="fit-vids-style";c.id="fit-vids-style";c.style.display="none";c.innerHTML="\ufffd<style>                 .fluid-width-video-wrapper {                   width: 100%;                                position: relative;                         padding: 0;                              }                                                                                       .fluid-width-video-wrapper iframe,          .fluid-width-video-wrapper object,          .fluid-width-video-wrapper embed {             position: absolute;                         top: 0;                                     left: 0;                                    width: 100%;                                height: 100%;                            }                                         </style>";
    g.parentNode.insertBefore(c,g)}f&&d.extend(e,f);return this.each(function(){var b="iframe[src*='player.vimeo.com'] iframe[src*='youtube.com'] iframe[src*='youtube-nocookie.com'] iframe[src*='kickstarter.com'][src*='video.html'] object embed".split(" ");e.customSelector&&b.push(e.customSelector);b=d(this).find(b.join(","));b=b.not("object object");b.each(function(){var a=d(this);if(!("embed"===this.tagName.toLowerCase()&&a.parent("object").length||a.parent(".fluid-width-video-wrapper").length)){var b=
    "object"===this.tagName.toLowerCase()||a.attr("height")&&!isNaN(parseInt(a.attr("height"),10))?parseInt(a.attr("height"),10):a.height(),c=isNaN(parseInt(a.attr("width"),10))?a.width():parseInt(a.attr("width"),10),b=b/c;a.attr("id")||(c="fitvid"+Math.floor(999999*Math.random()),a.attr("id",c));a.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*b+"%");a.removeAttr("height").removeAttr("width")}})})}})(jQuery);
;

/**
 * BxSlider v4.1.2 - Fully loaded, responsive content slider
 * http://bxslider.com
 *
 * Copyright 2014, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com
 * Written while drinking Belgian ales and listening to jazz
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */
!function(t){var e={},s={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},s,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),f(),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:p()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",u()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&P(),o.active.last=o.settings.startSlide==x()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&T(),o.settings.controls&&C(),o.settings.auto&&o.settings.autoControls&&E(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(e,h)},g=function(e,i){var s=e.find("img, iframe").length;if(0==s)return i(),void 0;var n=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++n==s&&i()}).each(function(){this.complete&&t(this).load()})})},h=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),s=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(s)}o.loader.remove(),S(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(v()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",Z),o.settings.auto&&o.settings.autoStart&&H(),o.settings.ticker&&L(),o.settings.pager&&q(o.settings.startSlide),o.settings.controls&&W(),o.settings.touchEnabled&&!o.settings.ticker&&O()},v=function(){var e=0,s=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var n=1==o.settings.moveSlides?o.active.index:o.active.index*m();for(s=o.children.eq(n),i=1;i<=o.settings.maxSlides-1;i++)s=n+i>=o.children.length?s.add(o.children.eq(i-1)):s.add(o.children.eq(n+i))}else s=o.children.eq(o.active.index);else s=o.children;return"vertical"==o.settings.mode?(s.each(function(){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,s.map(function(){return t(this).outerHeight(!1)}).get()),e},p=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},u=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width();t=Math.floor(o.viewport.width()/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},x=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=o.children.length/m();else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},m=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},S=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();b(-(e.left-(o.viewport.width()-t.width())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();b(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*m()).position();o.active.index==x()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?b(-e.left,"reset",0):"vertical"==o.settings.mode&&b(-e.top,"reset",0))}},b=function(t,e,i,s){if(o.usingCSS){var n="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D()})):"reset"==e?r.css(o.animProp,n):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(s.resetValue,"reset",0),N()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){D()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){b(s.resetValue,"reset",0),N()})}},w=function(){for(var e="",i=x(),s=0;i>s;s++){var n="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(n=o.settings.buildPager(s),o.pagerEl.addClass("bx-custom-pager")):(n=s+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+n+"</a></div>"}o.pagerEl.html(e)},T=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click","a",I)},C=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",y),o.controls.prev.bind("click",z),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},E=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",k),o.controls.autoEl.on("click",".bx-stop",M),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),A(o.settings.autoStart?"stop":"start")},P=function(){o.children.each(function(){var e=t(this).find("img:first").attr("title");void 0!=e&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},y=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},z=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},k=function(t){r.startAuto(),t.preventDefault()},M=function(t){r.stopAuto(),t.preventDefault()},I=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget),s=parseInt(i.attr("data-slide-index"));s!=o.active.index&&r.goToSlide(s),e.preventDefault()},q=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i),void 0):(o.pagerEl.find("a").removeClass("active"),o.pagerEl.each(function(i,s){t(s).find("a").eq(e).addClass("active")}),void 0)},D=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==x()-1&&o.carousel?t=o.children.eq((x()-1)*m()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?b(-t.left,"reset",0):"vertical"==o.settings.mode&&b(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},A=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},W=function(){1==x()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==x()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},H=function(){o.settings.autoDelay>0?setTimeout(r.startAuto,o.settings.autoDelay):r.startAuto(),o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},L=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}b(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,s="horizontal"==o.settings.mode?"left":"top",n=i*(e-Math.abs(parseInt(r.css(s))));N(n)}),N()},N=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var s="horizontal"==o.settings.mode?-e.left:-e.top,n="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:n};b(s,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",X)},X=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",Y),o.viewport.bind("touchend",V)}},Y=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),s=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>s&&o.settings.preventDefaultSwipeX?t.preventDefault():3*s>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var n=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;n=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;n=o.touch.originalPos.top+r}b(n,"reset",0)}},V=function(t){o.viewport.unbind("touchmove",Y);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var s=Math.abs(o.touch.start.x-o.touch.end.x);s>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var s=0;"horizontal"==o.settings.mode?(s=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&s>0||o.active.last&&0>s)?b(i,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(0>s?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)}o.viewport.unbind("touchend",V)},Z=function(){var e=t(window).width(),i=t(window).height();(a!=e||l!=i)&&(a=e,l=i,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>e?x()-1:e>=x()?0:e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=x()-1,o.settings.pager&&q(o.active.index),o.settings.controls&&W(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=v()&&o.viewport.animate({height:v()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),D()});else{o.settings.adaptiveHeight&&o.viewport.height()!=v()&&o.viewport.animate({height:v()},o.settings.adaptiveHeightSpeed);var s=0,n={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);n=a.position(),s=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;n=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-m():(x()-1)*m()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);n=a.position()}else if("next"==i&&0==o.active.index)n=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*m();n=o.children.eq(c).position()}if("undefined"!=typeof n){var g="horizontal"==o.settings.mode?-(n.left-s):-n.top;b(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&A("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&A("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).outerWidth(u()),o.viewport.css("height",v()),o.settings.ticker||S(),o.active.last&&(o.active.index=x()-1),o.active.index>=x()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),q(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",Z))},r.reloadSlider=function(t){void 0!=t&&(n=t),r.destroySlider(),d()},d(),this}}(jQuery);
